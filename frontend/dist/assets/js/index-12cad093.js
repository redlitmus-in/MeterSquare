var e,t,r,a,n,s,o,i,l,c,d,u,h,f,m,p,g,v,x,b,y,w,j,E,N,S,k,T,P,O,C,R,A,I,M,L,_,D,F,H,U,B,W,V,q,z=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},$=(e,t,r)=>(z(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},G=(e,t,r,a)=>(z(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Q=(e,t,r,a)=>({set _(a){G(e,t,a,r)},get _(){return $(e,t,a)}}),K=(e,t,r)=>(z(e,t,"access private method"),r);import{j as J,S as Z}from"./radix-ui-34961435.js";import{a as X,r as ee,R as te,c as re,e as ae,u as ne,b as se,f as oe,L as ie,O as le,N as ce,h as de,i as ue,B as he}from"./react-vendor-3707ac94.js";import{_ as fe,c as me}from"./auth-f9290e45.js";import{b as pe,t as ge,c as ve}from"./utils-8e4480a0.js";import{o as xe,r as be,a as ye,b as we,s as je,u as Ee}from"./forms-337f692b.js";import{m as Ne,A as Se}from"./ui-vendor-42d562f2.js";import{M as ke,U as Te,C as Pe,a as Oe,A as Ce,K as Re,L as Ae,S as Ie,b as Me,T as Le,P as _e,c as De,F as Fe,d as He,e as Ue,f as Be,g as We,h as Ve,i as qe,j as ze,k as $e,l as Ye,B as Ge,m as Qe,n as Ke,H as Je,o as Ze,R as Xe,p as et,X as tt,q as rt,r as at,s as nt,t as st,u as ot,I as it,v as lt,w as ct,x as dt}from"./icons-2fde7931.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ut={},ht=X;ut.createRoot=ht.createRoot,ut.hydrateRoot=ht.hydrateRoot;var ft=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},pt=new(r=class{constructor(){Y(this,e,mt),Y(this,t,!1)}setTimeoutProvider(t){G(this,e,t)}setTimeout(t,r){return $(this,e).setTimeout(t,r)}clearTimeout(t){$(this,e).clearTimeout(t)}setInterval(t,r){return $(this,e).setInterval(t,r)}clearInterval(t){$(this,e).clearInterval(t)}},e=new WeakMap,t=new WeakMap,r);var gt="undefined"==typeof window||"Deno"in globalThis;function vt(){}function xt(e,t){return"function"==typeof e?e(t):e}function bt(e,t){const{type:r="all",exact:a,fetchStatus:n,predicate:s,queryKey:o,stale:i}=e;if(o)if(a){if(t.queryHash!==wt(o,t.options))return!1}else if(!Et(t.queryKey,o))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof i||t.isStale()===i)&&((!n||n===t.state.fetchStatus)&&!(s&&!s(t)))}function yt(e,t){const{exact:r,status:a,predicate:n,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(jt(t.options.mutationKey)!==jt(s))return!1}else if(!Et(t.options.mutationKey,s))return!1}return(!a||t.state.status===a)&&!(n&&!n(t))}function wt(e,t){return(t?.queryKeyHashFn||jt)(e)}function jt(e){return JSON.stringify(e,(e,t)=>Tt(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function Et(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(r=>Et(e[r],t[r])))}var Nt=Object.prototype.hasOwnProperty;function St(e,t){if(e===t)return e;const r=kt(e)&&kt(t);if(!(r||Tt(e)&&Tt(t)))return t;const a=(r?e:Object.keys(e)).length,n=r?t:Object.keys(t),s=n.length,o=r?new Array(s):{};let i=0;for(let l=0;l<s;l++){const s=r?l:n[l],c=e[s],d=t[s];if(c===d){o[s]=c,(r?l<a:Nt.call(e,s))&&i++;continue}if(null===c||null===d||"object"!=typeof c||"object"!=typeof d){o[s]=d;continue}const u=St(c,d);o[s]=u,u===c&&i++}return a===s&&i===a?e:o}function kt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tt(e){if(!Pt(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!Pt(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Pt(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ot(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?St(e,t):t}function Ct(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function Rt(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var At=Symbol();function It(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==At?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var Mt=new(o=class extends ft{constructor(){super(),Y(this,a,void 0),Y(this,n,void 0),Y(this,s,void 0),G(this,s,e=>{if(!gt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){$(this,n)||this.setEventListener($(this,s))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=$(this,n))||e.call(this),G(this,n,void 0))}setEventListener(e){var t;G(this,s,e),null==(t=$(this,n))||t.call(this),G(this,n,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){$(this,a)!==e&&(G(this,a,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof $(this,a)?$(this,a):"hidden"!==globalThis.document?.visibilityState}},a=new WeakMap,n=new WeakMap,s=new WeakMap,o);var Lt=function(e){setTimeout(e,0)};var _t=function(){let e=[],t=0,r=e=>{e()},a=e=>{e()},n=Lt;const s=a=>{t?e.push(a):n(()=>{r(a)})};return{batch:s=>{let o;t++;try{o=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&n(()=>{a(()=>{t.forEach(e=>{r(e)})})})})()}return o},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{a=e},setScheduler:e=>{n=e}}}(),Dt=new(d=class extends ft{constructor(){super(),Y(this,i,!0),Y(this,l,void 0),Y(this,c,void 0),G(this,c,e=>{if(!gt&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,l)||this.setEventListener($(this,c))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=$(this,l))||e.call(this),G(this,l,void 0))}setEventListener(e){var t;G(this,c,e),null==(t=$(this,l))||t.call(this),G(this,l,e(this.setOnline.bind(this)))}setOnline(e){$(this,i)!==e&&(G(this,i,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return $(this,i)}},i=new WeakMap,l=new WeakMap,c=new WeakMap,d);function Ft(e){return Math.min(1e3*2**e,3e4)}function Ht(e){return"online"!==(e??"online")||Dt.isOnline()}var Ut=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Bt(e){let t,r=!1,a=0;const n=function(){let e,t;const r=new Promise((r,a)=>{e=r,t=a});function a(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{a({status:"fulfilled",value:t}),e(t)},r.reject=e=>{a({status:"rejected",reason:e}),t(e)},r}(),s=()=>"pending"!==n.status,o=()=>Mt.isFocused()&&("always"===e.networkMode||Dt.isOnline())&&e.canRun(),i=()=>Ht(e.networkMode)&&e.canRun(),l=e=>{s()||(t?.(),n.resolve(e))},c=e=>{s()||(t?.(),n.reject(e))},d=()=>new Promise(r=>{t=e=>{(s()||o())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,s()||e.onContinue?.()}),u=()=>{if(s())return;let t;const n=0===a?e.initialPromise:void 0;try{t=n??e.fn()}catch(i){t=Promise.reject(i)}Promise.resolve(t).then(l).catch(t=>{if(s())return;const n=e.retry??(gt?0:3),i=e.retryDelay??Ft,l="function"==typeof i?i(a,t):i,h=!0===n||"number"==typeof n&&a<n||"function"==typeof n&&n(a,t);var f;!r&&h?(a++,e.onFail?.(a,t),(f=l,new Promise(e=>{pt.setTimeout(e,f)})).then(()=>o()?void 0:d()).then(()=>{r?c(t):u()})):c(t)})};return{promise:n,status:()=>n.status,cancel:t=>{if(!s()){const r=new Ut(t);c(r),e.onCancel?.(r)}},continue:()=>(t?.(),n),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:i,start:()=>(i()?u():d().then(u),n)}}var Wt=(h=class{constructor(){Y(this,u,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&G(this,u,pt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gt?1/0:3e5))}clearGcTimeout(){$(this,u)&&(pt.clearTimeout($(this,u)),G(this,u,void 0))}},u=new WeakMap,h),Vt=(j=class extends Wt{constructor(e){super(),Y(this,y),Y(this,f,void 0),Y(this,m,void 0),Y(this,p,void 0),Y(this,g,void 0),Y(this,v,void 0),Y(this,x,void 0),Y(this,b,void 0),G(this,b,!1),G(this,x,e.defaultOptions),this.setOptions(e.options),this.observers=[],G(this,g,e.client),G(this,p,$(this,g).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,G(this,f,qt(this.options)),this.state=e.state??$(this,f),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return $(this,v)?.promise}setOptions(e){if(this.options={...$(this,x),...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=qt(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),G(this,f,e))}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||$(this,p).remove(this)}setData(e,t){const r=Ot(this.state.data,e,this.options);return K(this,y,w).call(this,{data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){K(this,y,w).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){const t=$(this,v)?.promise;return $(this,v)?.cancel(e),t?t.then(vt).catch(vt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,f))}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,r=this,"function"==typeof t?t(r):t);var t,r})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===At||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===xt(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),$(this,v)?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),$(this,v)?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,p).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||($(this,v)&&($(this,b)?$(this,v).cancel({revert:!0}):$(this,v).cancelRetry()),this.scheduleGc()),$(this,p).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||K(this,y,w).call(this,{type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==$(this,v)?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if($(this,v))return $(this,v).continueRetry(),$(this,v).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const r=new AbortController,a=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(G(this,b,!0),r.signal)})},n=()=>{const e=It(this.options,t),r=(()=>{const e={client:$(this,g),queryKey:this.queryKey,meta:this.meta};return a(e),e})();return G(this,b,!1),this.options.persister?this.options.persister(e,r,this):e(r)},s=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:$(this,g),state:this.state,fetchFn:n};return a(e),e})();this.options.behavior?.onFetch(s,this),G(this,m,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===s.fetchOptions?.meta||K(this,y,w).call(this,{type:"fetch",meta:s.fetchOptions?.meta}),G(this,v,Bt({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:e=>{e instanceof Ut&&e.revert&&this.setState({...$(this,m),fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{K(this,y,w).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{K(this,y,w).call(this,{type:"pause"})},onContinue:()=>{K(this,y,w).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}));try{const e=await $(this,v).start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),$(this,p).config.onSuccess?.(e,this),$(this,p).config.onSettled?.(e,this.state.error,this),e}catch(o){if(o instanceof Ut){if(o.silent)return $(this,v).promise;if(o.revert){if(void 0===this.state.data)throw o;return this.state.data}}throw K(this,y,w).call(this,{type:"error",error:o}),$(this,p).config.onError?.(o,this),$(this,p).config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}},f=new WeakMap,m=new WeakMap,p=new WeakMap,g=new WeakMap,v=new WeakMap,x=new WeakMap,b=new WeakMap,y=new WeakSet,w=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(r=t.data,a=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ht(a.networkMode)?"fetching":"paused",...void 0===r&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":const n={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return G(this,m,e.manual?n:void 0),n;case"error":const s=e.error;return{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var r,a})(this.state),_t.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),$(this,p).notify({query:this,type:"updated",action:e})})},j);function qt(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,a=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function zt(e){return{onFetch:(t,r)=>{const a=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let i={pages:[],pageParams:[]},l=0;const c=async()=>{let r=!1;const c=It(t.options,t.fetchOptions),d=async(e,a,n)=>{if(r)return Promise.reject();if(null==a&&e.pages.length)return Promise.resolve(e);const s=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:a,direction:n?"backward":"forward",meta:t.options.meta};var s;return s=e,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),e})(),o=await c(s),{maxPages:i}=t.options,l=n?Rt:Ct;return{pages:l(e.pages,o,i),pageParams:l(e.pageParams,a,i)}};if(n&&s.length){const e="backward"===n,t={pages:s,pageParams:o},r=(e?Yt:$t)(a,t);i=await d(t,r,e)}else{const t=e??s.length;do{const e=0===l?o[0]??a.initialPageParam:$t(a,i);if(l>0&&null==e)break;i=await d(i,e),l++}while(l<t)}return i};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function $t(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function Yt(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Gt=(O=class extends Wt{constructor(e){super(),Y(this,T),Y(this,E,void 0),Y(this,N,void 0),Y(this,S,void 0),Y(this,k,void 0),G(this,E,e.client),this.mutationId=e.mutationId,G(this,S,e.mutationCache),G(this,N,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,N).includes(e)||($(this,N).push(e),this.clearGcTimeout(),$(this,S).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){G(this,N,$(this,N).filter(t=>t!==e)),this.scheduleGc(),$(this,S).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,N).length||("pending"===this.state.status?this.scheduleGc():$(this,S).remove(this))}continue(){return $(this,k)?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{K(this,T,P).call(this,{type:"continue"})},r={client:$(this,E),meta:this.options.meta,mutationKey:this.options.mutationKey};G(this,k,Bt({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{K(this,T,P).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{K(this,T,P).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,S).canRun(this)}));const a="pending"===this.state.status,n=!$(this,k).canStart();try{if(a)t();else{K(this,T,P).call(this,{type:"pending",variables:e,isPaused:n}),await($(this,S).config.onMutate?.(e,this,r));const t=await(this.options.onMutate?.(e,r));t!==this.state.context&&K(this,T,P).call(this,{type:"pending",context:t,variables:e,isPaused:n})}const s=await $(this,k).start();return await($(this,S).config.onSuccess?.(s,e,this.state.context,this,r)),await(this.options.onSuccess?.(s,e,this.state.context,r)),await($(this,S).config.onSettled?.(s,null,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(s,null,e,this.state.context,r)),K(this,T,P).call(this,{type:"success",data:s}),s}catch(s){try{throw await($(this,S).config.onError?.(s,e,this.state.context,this,r)),await(this.options.onError?.(s,e,this.state.context,r)),await($(this,S).config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,r)),await(this.options.onSettled?.(void 0,s,e,this.state.context,r)),s}finally{K(this,T,P).call(this,{type:"error",error:s})}}finally{$(this,S).runNext(this)}}},E=new WeakMap,N=new WeakMap,S=new WeakMap,k=new WeakMap,T=new WeakSet,P=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),_t.batch(()=>{$(this,N).forEach(t=>{t.onMutationUpdate(e)}),$(this,S).notify({mutation:this,type:"updated",action:e})})},O);var Qt=(I=class extends ft{constructor(e={}){super(),Y(this,C,void 0),Y(this,R,void 0),Y(this,A,void 0),this.config=e,G(this,C,new Set),G(this,R,new Map),G(this,A,0)}build(e,t,r){const a=new Gt({client:e,mutationCache:this,mutationId:++Q(this,A)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){$(this,C).add(e);const t=Kt(e);if("string"==typeof t){const r=$(this,R).get(t);r?r.push(e):$(this,R).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,C).delete(e)){const t=Kt(e);if("string"==typeof t){const r=$(this,R).get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&$(this,R).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Kt(e);if("string"==typeof t){const r=$(this,R).get(t),a=r?.find(e=>"pending"===e.state.status);return!a||a===e}return!0}runNext(e){const t=Kt(e);if("string"==typeof t){const r=$(this,R).get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){_t.batch(()=>{$(this,C).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,C).clear(),$(this,R).clear()})}getAll(){return Array.from($(this,C))}find(e){const t={exact:!0,...e};return this.getAll().find(e=>yt(t,e))}findAll(e={}){return this.getAll().filter(t=>yt(e,t))}notify(e){_t.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return _t.batch(()=>Promise.all(e.map(e=>e.continue().catch(vt))))}},C=new WeakMap,R=new WeakMap,A=new WeakMap,I);function Kt(e){return e.options.scope?.id}var Jt=(L=class extends ft{constructor(e={}){super(),Y(this,M,void 0),this.config=e,G(this,M,new Map)}build(e,t,r){const a=t.queryKey,n=t.queryHash??wt(a,t);let s=this.get(n);return s||(s=new Vt({client:e,queryKey:a,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){$(this,M).has(e.queryHash)||($(this,M).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=$(this,M).get(e.queryHash);t&&(e.destroy(),t===e&&$(this,M).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_t.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,M).get(e)}getAll(){return[...$(this,M).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>bt(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>bt(e,t)):t}notify(e){_t.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){_t.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_t.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},M=new WeakMap,L),Zt=(q=class{constructor(e={}){Y(this,_,void 0),Y(this,D,void 0),Y(this,F,void 0),Y(this,H,void 0),Y(this,U,void 0),Y(this,B,void 0),Y(this,W,void 0),Y(this,V,void 0),G(this,_,e.queryCache||new Jt),G(this,D,e.mutationCache||new Qt),G(this,F,e.defaultOptions||{}),G(this,H,new Map),G(this,U,new Map),G(this,B,0)}mount(){Q(this,B)._++,1===$(this,B)&&(G(this,W,Mt.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,_).onFocus())})),G(this,V,Dt.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,_).onOnline())})))}unmount(){var e,t;Q(this,B)._--,0===$(this,B)&&(null==(e=$(this,W))||e.call(this),G(this,W,void 0),null==(t=$(this,V))||t.call(this),G(this,V,void 0))}isFetching(e){return $(this,_).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,D).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return $(this,_).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,_).build(this,t),a=r.state.data;return void 0===a?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(xt(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return $(this,_).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),n=$(this,_).get(a.queryHash),s=n?.state.data,o=function(e,t){return"function"==typeof e?e(t):e}(t,s);if(void 0!==o)return $(this,_).build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return _t.batch(()=>$(this,_).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return $(this,_).get(t.queryHash)?.state}removeQueries(e){const t=$(this,_);_t.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const r=$(this,_);return _t.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=_t.batch(()=>$(this,_).findAll(e).map(e=>e.cancel(r)));return Promise.all(a).then(vt).catch(vt)}invalidateQueries(e,t={}){return _t.batch(()=>($(this,_).findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=_t.batch(()=>$(this,_).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(vt)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(a).then(vt)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=$(this,_).build(this,t);return r.isStaleByTime(xt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vt).catch(vt)}fetchInfiniteQuery(e){return e.behavior=zt(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vt).catch(vt)}ensureInfiniteQueryData(e){return e.behavior=zt(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dt.isOnline()?$(this,D).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,_)}getMutationCache(){return $(this,D)}getDefaultOptions(){return $(this,F)}setDefaultOptions(e){G(this,F,e)}setQueryDefaults(e,t){$(this,H).set(jt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,H).values()],r={};return t.forEach(t=>{Et(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){$(this,U).set(jt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,U).values()],r={};return t.forEach(t=>{Et(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,F).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wt(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===At&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...$(this,F).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,_).clear(),$(this,D).clear()}},_=new WeakMap,D=new WeakMap,F=new WeakMap,H=new WeakMap,U=new WeakMap,B=new WeakMap,W=new WeakMap,V=new WeakMap,q),Xt=ee.createContext(void 0),er=({client:e,children:t})=>(ee.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),J.jsx(Xt.Provider,{value:e,children:t}));const tr=Array(12).fill(0),rr=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},tr.map((e,t)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),ar=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nr=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sr=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),or=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ir=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let lr=1;const cr=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...a}=e,n="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:lr++,s=this.toasts.find(e=>e.id===n),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),s?this.toasts=this.toasts.map(t=>t.id===n?(this.publish({...t,...e,id:n,title:r}),{...t,...e,id:n,dismissible:o,title:r}):t):this.addToast({title:r,...a,dismissible:o,id:n}),n},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let n,s=void 0!==r;const o=a.then(async e=>{n=["resolve",e];if(te.isValidElement(e))s=!1,this.create({id:r,type:"default",message:e});else if(dr(e)&&!e.ok){s=!1;const a="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,n="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,o="object"==typeof a&&!te.isValidElement(a)?a:{message:a};this.create({id:r,type:"error",description:n,...o})}else if(e instanceof Error){s=!1;const a="function"==typeof t.error?await t.error(e):t.error,n="function"==typeof t.description?await t.description(e):t.description,o="object"==typeof a&&!te.isValidElement(a)?a:{message:a};this.create({id:r,type:"error",description:n,...o})}else if(void 0!==t.success){s=!1;const a="function"==typeof t.success?await t.success(e):t.success,n="function"==typeof t.description?await t.description(e):t.description,o="object"==typeof a&&!te.isValidElement(a)?a:{message:a};this.create({id:r,type:"success",description:n,...o})}}).catch(async e=>{if(n=["reject",e],void 0!==t.error){s=!1;const a="function"==typeof t.error?await t.error(e):t.error,n="function"==typeof t.description?await t.description(e):t.description,o="object"==typeof a&&!te.isValidElement(a)?a:{message:a};this.create({id:r,type:"error",description:n,...o})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),null==t.finally||t.finally.call(t)}),i=()=>new Promise((e,t)=>o.then(()=>"reject"===n[0]?t(n[1]):e(n[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:i}:Object.assign(r,{unwrap:i})},this.custom=(e,t)=>{const r=(null==t?void 0:t.id)||lr++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},dr=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,ur=(e,t)=>{const r=(null==t?void 0:t.id)||lr++;return cr.addToast({title:e,...t,id:r}),r},hr=Object.assign(ur,{success:cr.success,info:cr.info,warning:cr.warning,error:cr.error,custom:cr.custom,message:cr.message,promise:cr.promise,dismiss:cr.dismiss,loading:cr.loading},{getHistory:()=>cr.toasts,getToasts:()=>cr.getActiveToasts()});function fr(e){return void 0!==e.label}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const mr=3,pr=14;function gr(...e){return e.filter(Boolean).join(" ")}const vr=e=>{var t,r,a,n,s,o,i,l,c;const{invert:d,toast:u,unstyled:h,interacting:f,setHeights:m,visibleToasts:p,heights:g,index:v,toasts:x,expanded:b,removeToast:y,defaultRichColors:w,closeButton:j,style:E,cancelButtonStyle:N,actionButtonStyle:S,className:k="",descriptionClassName:T="",duration:P,position:O,gap:C,expandByDefault:R,classNames:A,icons:I,closeButtonAriaLabel:M="Close toast"}=e,[L,_]=te.useState(null),[D,F]=te.useState(null),[H,U]=te.useState(!1),[B,W]=te.useState(!1),[V,q]=te.useState(!1),[z,$]=te.useState(!1),[Y,G]=te.useState(!1),[Q,K]=te.useState(0),[J,Z]=te.useState(0),X=te.useRef(u.duration||P||4e3),ee=te.useRef(null),re=te.useRef(null),ae=0===v,ne=v+1<=p,se=u.type,oe=!1!==u.dismissible,ie=u.className||"",le=u.descriptionClassName||"",ce=te.useMemo(()=>g.findIndex(e=>e.toastId===u.id)||0,[g,u.id]),de=te.useMemo(()=>{var e;return null!=(e=u.closeButton)?e:j},[u.closeButton,j]),ue=te.useMemo(()=>u.duration||P||4e3,[u.duration,P]),he=te.useRef(0),fe=te.useRef(0),me=te.useRef(0),pe=te.useRef(null),[ge,ve]=O.split("-"),xe=te.useMemo(()=>g.reduce((e,t,r)=>r>=ce?e:e+t.height,0),[g,ce]),be=(()=>{const[e,t]=te.useState(document.hidden);return te.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),ye=u.invert||d,we="loading"===se;fe.current=te.useMemo(()=>ce*C+xe,[ce,xe]),te.useEffect(()=>{X.current=ue},[ue]),te.useEffect(()=>{U(!0)},[]),te.useEffect(()=>{const e=re.current;if(e){const t=e.getBoundingClientRect().height;return Z(t),m(e=>[{toastId:u.id,height:t,position:u.position},...e]),()=>m(e=>e.filter(e=>e.toastId!==u.id))}},[m,u.id]),te.useLayoutEffect(()=>{if(!H)return;const e=re.current,t=e.style.height;e.style.height="auto";const r=e.getBoundingClientRect().height;e.style.height=t,Z(r),m(e=>e.find(e=>e.toastId===u.id)?e.map(e=>e.toastId===u.id?{...e,height:r}:e):[{toastId:u.id,height:r,position:u.position},...e])},[H,u.title,u.description,m,u.id,u.jsx,u.action,u.cancel]);const je=te.useCallback(()=>{W(!0),K(fe.current),m(e=>e.filter(e=>e.toastId!==u.id)),setTimeout(()=>{y(u)},200)},[u,y,m,fe]);te.useEffect(()=>{if(u.promise&&"loading"===se||u.duration===1/0||"loading"===u.type)return;let e;return b||f||be?(()=>{if(me.current<he.current){const e=(new Date).getTime()-he.current;X.current=X.current-e}me.current=(new Date).getTime()})():X.current!==1/0&&(he.current=(new Date).getTime(),e=setTimeout(()=>{null==u.onAutoClose||u.onAutoClose.call(u,u),je()},X.current)),()=>clearTimeout(e)},[b,f,u,se,be,je]),te.useEffect(()=>{u.delete&&(je(),null==u.onDismiss||u.onDismiss.call(u,u))},[je,u.delete]);const Ee=u.icon||(null==I?void 0:I[se])||(e=>{switch(e){case"success":return ar;case"info":return sr;case"warning":return nr;case"error":return or;default:return null}})(se);var Ne,Se,ke,Te;return te.createElement("li",{tabIndex:0,ref:re,className:gr(k,ie,null==A?void 0:A.toast,null==u||null==(t=u.classNames)?void 0:t.toast,null==A?void 0:A.default,null==A?void 0:A[se],null==u||null==(r=u.classNames)?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":null!=(Ne=u.richColors)?Ne:w,"data-styled":!Boolean(u.jsx||u.unstyled||h),"data-mounted":H,"data-promise":Boolean(u.promise),"data-swiped":Y,"data-removed":B,"data-visible":ne,"data-y-position":ge,"data-x-position":ve,"data-index":v,"data-front":ae,"data-swiping":V,"data-dismissible":oe,"data-type":se,"data-invert":ye,"data-swipe-out":z,"data-swipe-direction":D,"data-expanded":Boolean(b||R&&H),"data-testid":u.testId,style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${B?Q:fe.current}px`,"--initial-height":R?"auto":`${J}px`,...E,...u.style},onDragEnd:()=>{q(!1),_(null),pe.current=null},onPointerDown:e=>{2!==e.button&&!we&&oe&&(ee.current=new Date,K(fe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(q(!0),pe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r;if(z||!oe)return;pe.current=null;const a=Number((null==(e=re.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),n=Number((null==(t=re.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),s=(new Date).getTime()-(null==(r=ee.current)?void 0:r.getTime()),o="x"===L?a:n,i=Math.abs(o)/s;if(Math.abs(o)>=45||i>.11)return K(fe.current),null==u.onDismiss||u.onDismiss.call(u,u),F("x"===L?a>0?"right":"left":n>0?"down":"up"),je(),void $(!0);var l,c;null==(l=re.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=re.current)||c.style.setProperty("--swipe-amount-y","0px"),G(!1),q(!1),_(null)},onPointerMove:t=>{var r,a,n;if(!pe.current||!oe)return;if((null==(r=window.getSelection())?void 0:r.toString().length)>0)return;const s=t.clientY-pe.current.y,o=t.clientX-pe.current.x;var i;const l=null!=(i=e.swipeDirections)?i:function(e){const[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}(O);!L&&(Math.abs(o)>1||Math.abs(s)>1)&&_(Math.abs(o)>Math.abs(s)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===L){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&s<0||l.includes("bottom")&&s>0)c.y=s;else{const e=s*d(s);c.y=Math.abs(e)<Math.abs(s)?e:s}}else if("x"===L&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&o<0||l.includes("right")&&o>0)c.x=o;else{const e=o*d(o);c.x=Math.abs(e)<Math.abs(o)?e:o}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&G(!0),null==(a=re.current)||a.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(n=re.current)||n.style.setProperty("--swipe-amount-y",`${c.y}px`)}},de&&!u.jsx&&"loading"!==se?te.createElement("button",{"aria-label":M,"data-disabled":we,"data-close-button":!0,onClick:we||!oe?()=>{}:()=>{je(),null==u.onDismiss||u.onDismiss.call(u,u)},className:gr(null==A?void 0:A.closeButton,null==u||null==(a=u.classNames)?void 0:a.closeButton)},null!=(Se=null==I?void 0:I.close)?Se:ir):null,(se||u.icon||u.promise)&&null!==u.icon&&(null!==(null==I?void 0:I[se])||u.icon)?te.createElement("div",{"data-icon":"",className:gr(null==A?void 0:A.icon,null==u||null==(n=u.classNames)?void 0:n.icon)},u.promise||"loading"===u.type&&!u.icon?u.icon||((null==I?void 0:I.loading)?te.createElement("div",{className:gr(null==A?void 0:A.loader,null==u||null==(Te=u.classNames)?void 0:Te.loader,"sonner-loader"),"data-visible":"loading"===se},I.loading):te.createElement(rr,{className:gr(null==A?void 0:A.loader,null==u||null==(ke=u.classNames)?void 0:ke.loader),visible:"loading"===se})):null,"loading"!==u.type?Ee:null):null,te.createElement("div",{"data-content":"",className:gr(null==A?void 0:A.content,null==u||null==(s=u.classNames)?void 0:s.content)},te.createElement("div",{"data-title":"",className:gr(null==A?void 0:A.title,null==u||null==(o=u.classNames)?void 0:o.title)},u.jsx?u.jsx:"function"==typeof u.title?u.title():u.title),u.description?te.createElement("div",{"data-description":"",className:gr(T,le,null==A?void 0:A.description,null==u||null==(i=u.classNames)?void 0:i.description)},"function"==typeof u.description?u.description():u.description):null),te.isValidElement(u.cancel)?u.cancel:u.cancel&&fr(u.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||N,onClick:e=>{fr(u.cancel)&&oe&&(null==u.cancel.onClick||u.cancel.onClick.call(u.cancel,e),je())},className:gr(null==A?void 0:A.cancelButton,null==u||null==(l=u.classNames)?void 0:l.cancelButton)},u.cancel.label):null,te.isValidElement(u.action)?u.action:u.action&&fr(u.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||S,onClick:e=>{fr(u.action)&&(null==u.action.onClick||u.action.onClick.call(u.action,e),e.defaultPrevented||je())},className:gr(null==A?void 0:A.actionButton,null==u||null==(c=u.classNames)?void 0:c.actionButton)},u.action.label):null)};function xr(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function br(e,t){const r={};return[e,t].forEach((e,t)=>{const a=1===t,n=a?"--mobile-offset":"--offset",s=a?"16px":"24px";function o(e){["top","right","bottom","left"].forEach(t=>{r[`${n}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r[`${n}-${t}`]=s:r[`${n}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):o(s)}),r}const yr=te.forwardRef(function(e,t){const{id:r,invert:a,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:f,style:m,visibleToasts:p=mr,toastOptions:g,dir:v=xr(),gap:x=pr,icons:b,containerAriaLabel:y="Notifications"}=e,[w,j]=te.useState([]),E=te.useMemo(()=>r?w.filter(e=>e.toasterId===r):w.filter(e=>!e.toasterId),[w,r]),N=te.useMemo(()=>Array.from(new Set([n].concat(E.filter(e=>e.position).map(e=>e.position)))),[E,n]),[S,k]=te.useState([]),[T,P]=te.useState(!1),[O,C]=te.useState(!1),[R,A]=te.useState("system"!==u?u:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=te.useRef(null),M=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=te.useRef(null),_=te.useRef(!1),D=te.useCallback(e=>{j(t=>{var r;return(null==(r=t.find(t=>t.id===e.id))?void 0:r.delete)||cr.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return te.useEffect(()=>cr.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{j(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{re.flushSync(()=>{j(t=>{const r=t.findIndex(t=>t.id===e.id);return-1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[w]),te.useEffect(()=>{if("system"!==u)return void A(u);if("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{A(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{A(e?"dark":"light")}catch(gn){}})}},[u]),te.useEffect(()=>{w.length<=1&&P(!1)},[w]),te.useEffect(()=>{const e=e=>{var t;var r;s.every(t=>e[t]||e.code===t)&&(P(!0),null==(r=I.current)||r.focus());"Escape"!==e.code||document.activeElement!==I.current&&!(null==(t=I.current)?void 0:t.contains(document.activeElement))||P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),te.useEffect(()=>{if(I.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,_.current=!1)}},[I.current]),te.createElement("section",{ref:t,"aria-label":`${y} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((t,r)=>{var n;const[s,u]=t.split("-");return E.length?te.createElement("ol",{key:t,dir:"auto"===v?xr():v,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":s,"data-x-position":u,style:{"--front-toast-height":`${(null==(n=S[0])?void 0:n.height)||0}px`,"--width":"356px","--gap":`${x}px`,...m,...br(c,d)},onBlur:e=>{_.current&&!e.currentTarget.contains(e.relatedTarget)&&(_.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||_.current||(_.current=!0,L.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{O||P(!1)},onDragEnd:()=>P(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||C(!0)},onPointerUp:()=>C(!1)},E.filter(e=>!e.position&&0===r||e.position===t).map((r,n)=>{var s,l;return te.createElement(vr,{key:r.id,icons:b,index:n,toast:r,defaultRichColors:h,duration:null!=(s=null==g?void 0:g.duration)?s:f,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:a,visibleToasts:p,closeButton:null!=(l=null==g?void 0:g.closeButton)?l:i,interacting:O,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,closeButtonAriaLabel:null==g?void 0:g.closeButtonAriaLabel,removeToast:D,toasts:E.filter(e=>e.position==r.position),heights:S.filter(e=>e.position==r.position),setHeights:k,expandByDefault:o,gap:x,expanded:T,swipeDirections:e.swipeDirections})})):null}))}),wr=e=>{let t;const r=new Set,a=(e,a)=>{const n="function"==typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:a,getState:n,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{r.clear()}},o=t=e(a,n,s);return s};var jr={exports:{}},Er={},Nr={exports:{}},Sr={},kr=ee;var Tr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Pr=kr.useState,Or=kr.useEffect,Cr=kr.useLayoutEffect,Rr=kr.useDebugValue;function Ar(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tr(e,r)}catch(a){return!0}}var Ir="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=Pr({inst:{value:r,getSnapshot:t}}),n=a[0].inst,s=a[1];return Cr(function(){n.value=r,n.getSnapshot=t,Ar(n)&&s({inst:n})},[e,r,t]),Or(function(){return Ar(n)&&s({inst:n}),e(function(){Ar(n)&&s({inst:n})})},[e]),Rr(r),r};Sr.useSyncExternalStore=void 0!==kr.useSyncExternalStore?kr.useSyncExternalStore:Ir,Nr.exports=Sr;var Mr=Nr.exports,Lr=ee,_r=Mr;var Dr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=_r.useSyncExternalStore,Hr=Lr.useRef,Ur=Lr.useEffect,Br=Lr.useMemo,Wr=Lr.useDebugValue;Er.useSyncExternalStoreWithSelector=function(e,t,r,a,n){var s=Hr(null);if(null===s.current){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Br(function(){function e(e){if(!l){if(l=!0,s=e,e=a(e),void 0!==n&&o.hasValue){var t=o.value;if(n(t,e))return i=t}return i=e}if(t=i,Dr(s,e))return t;var r=a(e);return void 0!==n&&n(t,r)?(s=e,t):(s=e,i=r)}var s,i,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,a,n]);var i=Fr(e,s[0],s[1]);return Ur(function(){o.hasValue=!0,o.value=i},[i]),Wr(i),i},jr.exports=Er;const Vr=ae(jr.exports),{useDebugValue:qr}=te,{useSyncExternalStoreWithSelector:zr}=Vr;const $r=e=>e;const Yr=e=>{const t="function"==typeof e?(e=>e?wr(e):wr)(e):e,r=(e,r)=>function(e,t=$r,r){const a=zr(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return qr(a),a}(t,e,r);return Object.assign(r,t),r};function Gr(e,t){let r;try{r=e()}catch(a){return}return{getItem:e=>{var a;const n=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),s=null!=(a=r.getItem(e))?a:null;return s instanceof Promise?s.then(n):n(s)},setItem:(e,a)=>r.setItem(e,JSON.stringify(a,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}const Qr=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>Qr(e)(r),catch(e){return this}}}catch(gn){return{then(e){return this},catch:t=>Qr(t)(gn)}}},Kr=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(r,a,n)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const i=new Set,l=new Set;let c;try{c=s.getStorage()}catch(g){}if(!c)return e((...e)=>{r(...e)},a,n);const d=Qr(s.serialize),u=()=>{const e=s.partialize({...a()});let t;const r=d({state:e,version:s.version}).then(e=>c.setItem(s.name,e)).catch(e=>{t=e});if(t)throw t;return r},h=n.setState;n.setState=(e,t)=>{h(e,t),u()};const f=e((...e)=>{r(...e),u()},a,n);let m;const p=()=>{var e;if(!c)return;o=!1,i.forEach(e=>e(a()));const t=(null==(e=s.onRehydrateStorage)?void 0:e.call(s,a()))||void 0;return Qr(c.getItem.bind(c))(s.name).then(e=>{if(e)return s.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return e.state;if(s.migrate)return s.migrate(e.state,e.version)}}).then(e=>{var t;return m=s.merge(e,null!=(t=a())?t:f),r(m,!0),u()}).then(()=>{null==t||t(m,void 0),o=!0,l.forEach(e=>e(m))}).catch(e=>{null==t||t(void 0,e)})};return n.persist={setOptions:e=>{s={...s,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},p(),m||f})(e,t):((e,t)=>(r,a,n)=>{let s={storage:Gr(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const i=new Set,l=new Set;let c=s.storage;if(!c)return e((...e)=>{r(...e)},a,n);const d=()=>{const e=s.partialize({...a()});return c.setItem(s.name,{state:e,version:s.version})},u=n.setState;n.setState=(e,t)=>{u(e,t),d()};const h=e((...e)=>{r(...e),d()},a,n);let f;n.getInitialState=()=>h;const m=()=>{var e,t;if(!c)return;o=!1,i.forEach(e=>{var t;return e(null!=(t=a())?t:h)});const n=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=a())?e:h))||void 0;return Qr(c.getItem.bind(c))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate)return[!0,s.migrate(e.state,e.version)]}return[!1,void 0]}).then(e=>{var t;const[n,o]=e;if(f=s.merge(o,null!=(t=a())?t:h),r(f,!0),n)return d()}).then(()=>{null==n||n(f,void 0),f=a(),o=!0,l.forEach(e=>e(f))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{s={...s,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},s.skipHydration||m(),f||h})(e,t),Jr=()=>({supabase:{url:"https://wgddnoiakkoskbbkbygw.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndnZGRub2lha2tvc2tiYmtieWd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzOTMzNjcsImV4cCI6MjA2OTk2OTM2N30.aeg9FKfkS1H67RVTgZXIrfu3Iu5NveHiSvpR7s27Bhs"},api:{baseUrl:"http://127.0.0.1:5000/api"},environment:{}.NODE_ENV||"development"}),Zr=async()=>{try{if((()=>{const e=Jr();return e.supabase.url.includes("placeholder")||e.supabase.anonKey.includes("placeholder")})())return{success:!0,error:null};const e=Jr(),{createClient:t}=await fe(()=>import("./auth-f9290e45.js").then(e=>e.i),["assets/js/auth-f9290e45.js","assets/js/react-vendor-3707ac94.js"]),r=t(e.supabase.url,e.supabase.anonKey),{data:a,error:n}=await r.auth.getSession();return{success:!n,error:n}}catch(e){return{success:!1,error:e}}},Xr=Jr(),ea=Xr.api.baseUrl,ta=me(Xr.supabase.url,Xr.supabase.anonKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),ra=pe.create({baseURL:ea,timeout:3e4,headers:{"Content-Type":"application/json"}});ra.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.headers["X-Request-ID"]=crypto.randomUUID(),e},e=>Promise.reject(e)),ra.interceptors.response.use(e=>e,async e=>{if(401===e.response?.status){localStorage.removeItem("access_token"),localStorage.removeItem("user"),localStorage.removeItem("auth-storage");(await fe(()=>Promise.resolve().then(()=>pa),void 0)).useAuthStore.setState({user:null,isAuthenticated:!1,isLoading:!1,error:null})}return Promise.reject(e)});const aa={AUTH:{LOGIN:"/login",REGISTER:"/register",ME:"/self"},PURCHASE:{CREATE:"/purchase",GET:e=>`/purchase/${e}`,UPDATE:e=>`/purchase/${e}`,DELETE:e=>`/purchase/${e}`,HISTORY:e=>`/purchase_history/${e}`,EMAIL:e=>`/purchase_email/${e}`,UPLOAD_FILE:e=>`/upload_file/${e}`,ALL:"/all_purchase"},PROJECTS:{LIST:"/projects",GET:e=>`/projects/${e}`,CREATE:"/projects",UPDATE:e=>`/projects/${e}`,DELETE:e=>`/projects/${e}`,PROGRESS:e=>`/projects/${e}/progress`},TASKS:{LIST:"/tasks",GET:e=>`/tasks/${e}`,CREATE:"/tasks",UPDATE:e=>`/tasks/${e}`,DELETE:e=>`/tasks/${e}`,MY_TASKS:"/tasks/my-tasks"},ANALYTICS:{PROJECTS_PROGRESS:"/analytics/projects/progress"},DASHBOARDS:{SITE_SUPERVISOR:"/site_supervisor_dashboard",MEP_SUPERVISOR:"/mep_supervisor_dashboard"},PROJECT_MANAGER:{APPROVE_PURCHASE:"/pm_approval",GET_PURCHASES:"/projectmanger_purchases"},ESTIMATION:{APPROVAL:"/estimation_approval",DASHBOARD:"/estimation_dashboard",PURCHASES:"/estimation_purchase",PURCHASE_DETAILS:e=>`/purchase/${e}`,PURCHASE_HISTORY:e=>`/purchase_history/${e}`},DOWNLOAD_FILES:(e,t)=>`/download_files?key=${e}&id=${t}`,TECHNICAL_DIRECTOR:{APPROVAL:"/tech_approval",DASHBOARD:"/tech_dashboard",PURCHASES:"/technical_purchase",PURCHASE_DETAILS:e=>`/purchase/${e}`,PURCHASE_HISTORY:e=>`/purchase_history/${e}`},ACCOUNTS:{PROCESS_PAYMENT:"/payments/process",APPROVE_PAYMENT:"/payments/approve",GET_PAYMENTS:"/payments",CREATE_ACKNOWLEDGEMENT:"/acknowledgements",GET_ACKNOWLEDGEMENTS:"/acknowledgements",FINANCIAL_SUMMARY:"/financial_summary",PENDING_APPROVALS:"/pending_approvals",DASHBOARD:"/account_dashboard",GET_PURCHASES:"/account_purchase"},PROCUREMENT:{ALL_PURCHASES:"/all_procurement",APPROVAL:e=>`/procurement_approval/${e}`},SITE_SUPERVISOR:{ALL_PURCHASES:"/all_purchase"}},na={get:async(e,t)=>(await ra.get(e,{params:t})).data,post:async(e,t)=>(await ra.post(e,t)).data,put:async(e,t)=>(await ra.put(e,t)).data,patch:async(e,t)=>(await ra.patch(e,t)).data,delete:async e=>(await ra.delete(e)).data};var sa=(e=>(e.SITE_SUPERVISOR="siteSupervisor",e.MEP_SUPERVISOR="mepSupervisor",e.PROCUREMENT="procurement",e.PROJECT_MANAGER="projectManager",e.DESIGN="design",e.ESTIMATION="estimation",e.ACCOUNTS="accounts",e.TECHNICAL_DIRECTOR="technicalDirector",e))(sa||{});const oa={2:sa.SITE_SUPERVISOR,3:sa.MEP_SUPERVISOR,4:sa.PROCUREMENT,5:sa.PROJECT_MANAGER,6:sa.DESIGN,7:sa.ESTIMATION,8:sa.ACCOUNTS,9:sa.TECHNICAL_DIRECTOR},ia={[sa.SITE_SUPERVISOR]:"site-supervisor",[sa.MEP_SUPERVISOR]:"mep-supervisor",[sa.PROCUREMENT]:"procurement",[sa.PROJECT_MANAGER]:"project-manager",[sa.DESIGN]:"design",[sa.ESTIMATION]:"estimation",[sa.ACCOUNTS]:"accounts",[sa.TECHNICAL_DIRECTOR]:"technical-director"};Object.entries(ia).reduce((e,[t,r])=>({...e,[r]:t}),{}),sa.SITE_SUPERVISOR,sa.MEP_SUPERVISOR,sa.PROCUREMENT,sa.PROJECT_MANAGER,sa.DESIGN,sa.ESTIMATION,sa.ACCOUNTS,sa.TECHNICAL_DIRECTOR;const la=e=>{if("number"==typeof e)return oa[e]||sa.SITE_SUPERVISOR;if(Object.values(sa).includes(e))return e;const t=parseInt(e);return isNaN(t)?e:oa[t]||sa.SITE_SUPERVISOR},ca=e=>{const t=la(e);return ia[t]||"user"},da=e=>`/${ca(e)}/dashboard`,ua=e=>{const t=la(e);return{[sa.SITE_SUPERVISOR]:"Site Supervisor",[sa.MEP_SUPERVISOR]:"MEP Supervisor",[sa.PROCUREMENT]:"Procurement",[sa.PROJECT_MANAGER]:"Project Manager",[sa.DESIGN]:"Design",[sa.ESTIMATION]:"Estimation",[sa.ACCOUNTS]:"Accounts",[sa.TECHNICAL_DIRECTOR]:"Technical Director"}[t]||"User"},ha=e=>({[sa.SITE_SUPERVISOR]:"orange",[sa.MEP_SUPERVISOR]:"cyan",[sa.PROCUREMENT]:"red",[sa.PROJECT_MANAGER]:"green",[sa.DESIGN]:"purple",[sa.ESTIMATION]:"amber",[sa.ACCOUNTS]:"emerald",[sa.TECHNICAL_DIRECTOR]:"blue"}[e]||"gray"),fa=(ma?Yr(ma):Yr)(Kr((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,login:async t=>{try{e({isLoading:!0,error:null});const r=await na.post(aa.AUTH.LOGIN,t);localStorage.removeItem("user"),localStorage.removeItem("auth-storage"),localStorage.setItem("access_token",r.access_token),e({user:r.user,isAuthenticated:!0,isLoading:!1,error:null}),hr.success("Login successful!")}catch(r){const t=r.response?.data?.detail||"Login failed";throw e({error:t,isLoading:!1,isAuthenticated:!1,user:null}),hr.error(t),r}},register:async t=>{try{e({isLoading:!0,error:null});await na.post(aa.AUTH.REGISTER,t);e({isLoading:!1,error:null}),hr.success("Registration successful! Please login.")}catch(r){const t=r.response?.data?.detail||"Registration failed";throw e({error:t,isLoading:!1}),hr.error(t),r}},logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("user"),localStorage.removeItem("auth-storage"),e({user:null,isAuthenticated:!1,error:null}),hr.success("Logged out successfully")},getCurrentUser:async()=>{try{if(!localStorage.getItem("access_token"))return void e({isAuthenticated:!1,user:null,isLoading:!1});const t=localStorage.getItem("user");if(t)try{const r=JSON.parse(t);return e({user:r,isAuthenticated:!0,isLoading:!1,error:null}),void na.get(aa.AUTH.ME).then(t=>{const r=t.user||t;localStorage.setItem("user",JSON.stringify(r)),e({user:r})}).catch(()=>{})}catch(gn){}e({isLoading:!0});const r=await na.get(aa.AUTH.ME),a=r.user||r;localStorage.setItem("user",JSON.stringify(a)),e({user:a,isAuthenticated:!0,isLoading:!1,error:null})}catch(t){throw localStorage.removeItem("access_token"),localStorage.removeItem("user"),localStorage.removeItem("auth-storage"),e({user:null,isAuthenticated:!1,isLoading:!1,error:null}),t}},updateProfile:async t=>{try{e({isLoading:!0,error:null});const r=await na.put(aa.AUTH.ME,t);e({user:r,isLoading:!1,error:null}),hr.success("Profile updated successfully!")}catch(r){const t=r.response?.data?.detail||"Profile update failed";throw e({error:t,isLoading:!1}),hr.error(t),r}},clearError:()=>e({error:null}),getRoleDashboard:()=>{const e=t();return e.user&&e.user.role_id?da(e.user.role_id):"/dashboard"}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));var ma;const pa=Object.freeze(Object.defineProperty({__proto__:null,useAuthStore:fa},Symbol.toStringTag,{value:"Module"})),ga=()=>{localStorage.removeItem("user"),localStorage.removeItem("auth-storage")},va=new Zt({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:(e,t)=>!(t?.response?.status>=400&&t?.response?.status<500)&&e<3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnReconnect:"always"},mutations:{retry:1,retryDelay:1e3}}}),xa=async e=>{await va.invalidateQueries({queryKey:Array.isArray(e)?e:[e]})},ba=new Map,ya=()=>{try{const e=ta.channel("purchase-changes").on("postgres_changes",{event:"*",schema:"public",table:"purchases"},e=>{xa(["purchases"]),xa(["purchase",e.new?.purchase_id]),"INSERT"===e.eventType?hr.success("New purchase request created"):"UPDATE"===e.eventType&&hr.info("Purchase request updated")}).subscribe();ba.set("purchases",e)}catch(e){}},wa=()=>{try{const e=ta.channel("task-changes").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},e=>{xa(["tasks"]),xa(["task",e.new?.task_id]),"INSERT"===e.eventType?hr.success("New task assigned"):"UPDATE"===e.eventType&&"completed"===e.new?.status&&hr.success("Task completed")}).subscribe();ba.set("tasks",e)}catch(e){}},ja=()=>{try{const e=ta.channel("material-changes").on("postgres_changes",{event:"*",schema:"public",table:"materials"},e=>{xa(["materials"]),xa(["material",e.new?.material_id])}).subscribe();ba.set("materials",e)}catch(e){}},Ea=e=>{try{const t=ta.channel(`user-notifications:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},e=>{const t=e.new;t?.message&&hr.info(t.message),xa(["notifications"])}).subscribe();ba.set("notifications",t)}catch(t){}},Na=()=>{ba.forEach((e,t)=>{try{ta.removeChannel(e)}catch(r){}}),ba.clear()};"undefined"!=typeof window&&(window.addEventListener("beforeunload",Na),document.addEventListener("visibilitychange",()=>{document.hidden?ba.forEach(e=>{try{e.unsubscribe()}catch(t){}}):ba.forEach(e=>{try{e.subscribe()}catch(t){}})}));var Sa=function(e,t){for(var r={};e.length;){var a=e[0],n=a.code,s=a.message,o=a.path.join(".");if(!r[o])if("unionErrors"in a){var i=a.unionErrors[0].errors[0];r[o]={message:i.message,type:i.code}}else r[o]={message:s,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=r[o].types,c=l&&l[a.code];r[o]=ye(o,t,r,n,c?[].concat(c,a.message):a.message)}e.shift()}return r};const ka=({size:e="md",className:t="",variant:r="pulse-wave"})=>{const a={sm:40,md:60,lg:80,xl:100}[e];return J.jsx("div",{className:`relative ${t}`,style:{width:a,height:a},children:J.jsxs("div",{className:"flex items-center justify-center h-full gap-1",children:[J.jsx(Ne.div,{className:"rounded",style:{width:"3px",height:.5*a,backgroundColor:"#ef4444"},animate:{scaleY:[.5,1,.5],opacity:[.5,1,.5]},transition:{duration:1.2,repeat:1/0,delay:0,ease:"easeInOut"}}),J.jsx(Ne.div,{className:"rounded",style:{width:"3px",height:.5*a,backgroundColor:"#3b82f6"},animate:{scaleY:[.5,1,.5],opacity:[.5,1,.5]},transition:{duration:1.2,repeat:1/0,delay:.2,ease:"easeInOut"}}),J.jsx(Ne.div,{className:"rounded",style:{width:"3px",height:.5*a,backgroundColor:"#10b981"},animate:{scaleY:[.5,1,.5],opacity:[.5,1,.5]},transition:{duration:1.2,repeat:1/0,delay:.4,ease:"easeInOut"}})]})})};function Ta(...e){return ge(ve(e))}const Pa=({length:e=6,value:t,onChange:r,onComplete:a,disabled:n=!1,className:s})=>{const[o,i]=ee.useState(new Array(e).fill("")),l=ee.useRef([]);ee.useEffect(()=>{const r=t.split("").slice(0,e),a=[...new Array(e).fill("")];r.forEach((e,t)=>{a[t]=e}),i(a)},[t,e]);const c=e=>{e.target.select()};return J.jsx("div",{className:Ta("flex gap-2 justify-center",s),children:o.map((t,s)=>J.jsx(Ne.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*s},children:J.jsx("input",{ref:e=>l.current[s]=e,type:"text",inputMode:"numeric",autoComplete:"one-time-code",pattern:"\\d{1}",maxLength:1,value:t,onChange:t=>((t,s)=>{if(n)return;const c=s.target.value;if(c.length>1){const n=c.slice(0,e).split(""),s=[...o];n.forEach((r,a)=>{t+a<e&&/^\d$/.test(r)&&(s[t+a]=r)}),i(s);const d=s.join("");r(d);const u=s.findLastIndex(e=>""!==e),h=Math.min(u+1,e-1);return l.current[h]?.focus(),void(d.length===e&&a&&a(d))}if(c&&!/^\d$/.test(c))return;const d=[...o];d[t]=c,i(d);const u=d.join("");r(u),c&&t<e-1&&l.current[t+1]?.focus(),u.length===e&&a&&a(u)})(s,t),onKeyDown:t=>((t,a)=>{if(!n){if("Backspace"===a.key){a.preventDefault();const e=[...o];o[t]?(e[t]="",i(e),r(e.join(""))):t>0&&(l.current[t-1]?.focus(),e[t-1]="",i(e),r(e.join("")))}"ArrowLeft"===a.key&&t>0&&l.current[t-1]?.focus(),"ArrowRight"===a.key&&t<e-1&&l.current[t+1]?.focus()}})(s,t),onFocus:c,disabled:n,"aria-label":`OTP digit ${s+1} of ${e}`,title:`Enter digit ${s+1} of ${e}`,className:Ta("w-12 h-14 text-center text-xl font-semibold","border-2 rounded-xl transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2",t?"border-[#243d8a] bg-[#243d8a]/5 text-[#243d8a]":"border-gray-300 bg-white","focus:border-[#243d8a] focus:ring-[#243d8a]/20","disabled:opacity-50 disabled:cursor-not-allowed","hover:border-[#243d8a]/50")})},s))})},Oa={sendOTP:async(e,t)=>{try{const r={email:e};t&&(r.role=t);return(await ra.post("/login",r)).data}catch(r){throw 404===r.response?.status?new Error("No user found with this email address"):403===r.response?.status?new Error("Invalid role for this user"):r.response?.data?.error?new Error(r.response.data.error):r.response?.data?.message?new Error(r.response.data.message):new Error("Failed to send OTP. Please try again.")}},verifyOTP:async(e,t)=>{try{const r=await ra.post("/verification_otp",{email:e,otp:t});return r.data.access_token&&(localStorage.setItem("access_token",r.data.access_token),localStorage.setItem("user",JSON.stringify(r.data.user))),r.data}catch(r){throw new Error(r.response?.data?.error||"Invalid OTP")}},getCurrentUser:async()=>{try{return(await ra.get("/self")).data}catch(e){throw new Error(e.response?.data?.error||"Failed to get user")}},logout:async()=>{try{await ra.post("/logout"),localStorage.removeItem("access_token"),localStorage.removeItem("user"),window.location.href="/login"}catch(e){localStorage.removeItem("access_token"),localStorage.removeItem("user"),window.location.href="/login"}},isAuthenticated:()=>!!localStorage.getItem("access_token"),getUserRole:()=>{const e=localStorage.getItem("user");if(e)try{return JSON.parse(e).role}catch{return null}return null},getUserPermissions:()=>{const e=localStorage.getItem("user");if(e)try{return JSON.parse(e).permissions||[]}catch{return[]}return[]},hasPermission:e=>Oa.getUserPermissions().includes(e),hasRole:e=>{const t=Oa.getUserRole();if(!t)return!1;return(Array.isArray(e)?e:[e]).includes(t)}},Ca=we({email:je().email("Please enter a valid email address"),role:je().min(1,"Please select a role")}),Ra=[{value:"technicalDirector",label:"Technical Director",icon:Qe},{value:"projectManager",label:"Project Manager",icon:Ke},{value:"procurement",label:"Procurement",icon:We},{value:"siteSupervisor",label:"Site Supervisor",icon:Je},{value:"estimation",label:"Estimation",icon:Ge},{value:"accounts",label:"Accounts",icon:Ze}],Aa=()=>{const e=ne(),{login:t,isLoading:r}=fa();ee.useState(!1);const[a,n]=ee.useState("email"),[s,o]=ee.useState(""),[i,l]=ee.useState(!1),[c,d]=ee.useState(0),[u,h]=ee.useState(""),[f,m]=ee.useState(""),[p,g]=ee.useState(!1),[v,x]=ee.useState(!1);ee.useEffect(()=>{if(c>0){const e=setTimeout(()=>d(c-1),1e3);return()=>clearTimeout(e)}},[c]);const{register:b,handleSubmit:y,setValue:w,formState:{errors:j}}=Ee({resolver:(E=Ca,void 0===S&&(S={}),function(e,t,r){try{return Promise.resolve(function(t,a){try{var n=Promise.resolve(E["sync"===S.mode?"parse":"parseAsync"](e,N)).then(function(t){return r.shouldUseNativeValidation&&xe({},r),{errors:{},values:S.raw?e:t}})}catch(Mn){return a(Mn)}return n&&n.then?n.then(void 0,a):n}(0,function(e){if(t=e,Array.isArray(null==t?void 0:t.errors))return{values:{},errors:be(Sa(e.errors,!r.shouldUseNativeValidation&&"all"===r.criteriaMode),r)};var t;throw e}))}catch(Mn){return Promise.reject(Mn)}})});var E,N,S;const k=async t=>{const r=t||s;if(Oa.isAuthenticated()){const t=Oa.getUserRole(),r=da(t||"user");return void e(r)}if(6===r.length){x(!0);try{const t=await Oa.verifyOTP(u,r);Ra.find(e=>e.value===f);fa.setState({user:t.user,isAuthenticated:!0,isLoading:!1,error:null}),hr.success("Welcome to MeterSquare ERP",{description:`Logged in as ${t.user.role}`,icon:J.jsx(qe,{className:"w-5 h-5 text-green-500"})});const a=da(t.user.role||f);e(a)}catch(a){const t=a.message?.toLowerCase()||"";if((t.includes("not found")||t.includes("expired"))&&Oa.isAuthenticated()){const t=Oa.getUserRole(),r=da(t||"user");return void e(r)}hr.error("Invalid OTP",{description:a.message||"Please enter the correct OTP"})}finally{x(!1)}}else hr.error("Invalid OTP",{description:"Please enter a 6-digit OTP"})};return J.jsxs(J.Fragment,{children:[J.jsx("style",{children:"\n        @keyframes sparkle {\n          0% { \n            opacity: 0;\n            transform: scale(0) rotate(0deg);\n          }\n          50% { \n            opacity: 1;\n            transform: scale(1) rotate(180deg);\n          }\n          100% { \n            opacity: 0;\n            transform: scale(0) rotate(360deg);\n          }\n        }\n        \n        @keyframes shimmer {\n          0% {\n            transform: translateX(-100%) translateY(-100%) rotate(45deg);\n          }\n          100% {\n            transform: translateX(100%) translateY(100%) rotate(45deg);\n          }\n        }\n        \n        .shine-effect {\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .shine-effect::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(\n            90deg,\n            transparent 0%,\n            rgba(255, 255, 255, 0.3) 20%,\n            rgba(255, 255, 255, 0.7) 50%,\n            rgba(255, 255, 255, 0.3) 80%,\n            transparent 100%\n          );\n          border-radius: 12px;\n          transition: all 0.3s ease;\n        }\n        \n        .shine-active::before {\n          animation: shineSwipe 0.8s ease-out;\n        }\n        \n        @keyframes shineSwipe {\n          0% {\n            left: -100%;\n            opacity: 0;\n          }\n          50% {\n            opacity: 1;\n          }\n          100% {\n            left: 100%;\n            opacity: 0;\n          }\n        }\n        \n        @keyframes sineWave1 {\n          0%, 100% { \n            transform: translateY(0) rotate(var(--rotation)) scale(1);\n            box-shadow: 0 8px 25px rgba(192, 192, 192, 0.4), 0 0 15px rgba(255, 255, 255, 0.6);\n            background: linear-gradient(135deg, #f8fafc, #fff, #f1f5f9);\n          }\n          25% { \n            transform: translateY(-4px) rotate(calc(var(--rotation) + 1deg)) scale(1.02);\n            box-shadow: 0 12px 35px rgba(192, 192, 192, 0.6), 0 0 20px rgba(255, 255, 255, 0.8);\n            background: linear-gradient(135deg, #e2e8f0, #f8fafc, #cbd5e1);\n          }\n          75% { \n            transform: translateY(2px) rotate(calc(var(--rotation) - 1deg)) scale(0.98);\n            box-shadow: 0 6px 20px rgba(192, 192, 192, 0.3), 0 0 12px rgba(255, 255, 255, 0.5);\n            background: linear-gradient(135deg, #f1f5f9, #fff, #e2e8f0);\n          }\n        }\n        \n        @keyframes sineWave2 {\n          0%, 100% { \n            transform: translateY(0) rotate(var(--rotation)) scale(1);\n            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.15);\n            background: linear-gradient(135deg, #f0f9ff, #fff);\n          }\n          35% { \n            transform: translateY(-6px) rotate(calc(var(--rotation) + 1deg)) scale(1.03);\n            box-shadow: 0 10px 35px rgba(59, 130, 246, 0.3);\n            background: linear-gradient(135deg, #dbeafe, #f0f9ff);\n          }\n          85% { \n            transform: translateY(3px) rotate(calc(var(--rotation) - 2deg)) scale(0.97);\n            box-shadow: 0 2px 15px rgba(59, 130, 246, 0.2);\n            background: linear-gradient(135deg, #eff6ff, #fff);\n          }\n        }\n        \n        @keyframes sineWave3 {\n          0%, 100% { \n            transform: translateY(0) rotate(var(--rotation)) scale(1);\n            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.15);\n            background: linear-gradient(135deg, #f0fdf4, #fff);\n          }\n          45% { \n            transform: translateY(-10px) rotate(calc(var(--rotation) + 3deg)) scale(1.04);\n            box-shadow: 0 12px 40px rgba(16, 185, 129, 0.35);\n            background: linear-gradient(135deg, #dcfce7, #f0fdf4);\n          }\n          80% { \n            transform: translateY(2px) rotate(calc(var(--rotation) - 1deg)) scale(0.99);\n            box-shadow: 0 3px 18px rgba(16, 185, 129, 0.25);\n            background: linear-gradient(135deg, #f7fee7, #fff);\n          }\n        }\n        \n        @keyframes sineWave4 {\n          0%, 100% { \n            transform: translateY(0) rotate(var(--rotation)) scale(1);\n            box-shadow: 0 4px 20px rgba(168, 85, 247, 0.15);\n            background: linear-gradient(135deg, #faf5ff, #fff);\n          }\n          55% { \n            transform: translateY(-7px) rotate(calc(var(--rotation) + 2deg)) scale(1.02);\n            box-shadow: 0 9px 32px rgba(168, 85, 247, 0.3);\n            background: linear-gradient(135deg, #e9d5ff, #faf5ff);\n          }\n          90% { \n            transform: translateY(5px) rotate(calc(var(--rotation) - 3deg)) scale(0.98);\n            box-shadow: 0 2px 16px rgba(168, 85, 247, 0.2);\n            background: linear-gradient(135deg, #f3e8ff, #fff);\n          }\n        }\n        \n        @keyframes sineWave5 {\n          0%, 100% { \n            transform: translateY(0) rotate(var(--rotation)) scale(1);\n            box-shadow: 0 4px 20px rgba(245, 101, 101, 0.15);\n            background: linear-gradient(135deg, #fef2f2, #fff);\n          }\n          30% { \n            transform: translateY(-9px) rotate(calc(var(--rotation) + 1deg)) scale(1.03);\n            box-shadow: 0 11px 36px rgba(245, 101, 101, 0.32);\n            background: linear-gradient(135deg, #fee2e2, #fef2f2);\n          }\n          70% { \n            transform: translateY(4px) rotate(calc(var(--rotation) - 2deg)) scale(0.97);\n            box-shadow: 0 3px 17px rgba(245, 101, 101, 0.22);\n            background: linear-gradient(135deg, #fef7f7, #fff);\n          }\n        }\n        \n        @keyframes sineWave6 {\n          0%, 100% { \n            transform: translateY(0) rotate(var(--rotation)) scale(1);\n            box-shadow: 0 4px 20px rgba(34, 197, 94, 0.15);\n            background: linear-gradient(135deg, #f0fdf4, #fff);\n          }\n          40% { \n            transform: translateY(-5px) rotate(calc(var(--rotation) + 4deg)) scale(1.01);\n            box-shadow: 0 8px 28px rgba(34, 197, 94, 0.28);\n            background: linear-gradient(135deg, #dcfce7, #f0fdf4);\n          }\n          85% { \n            transform: translateY(6px) rotate(calc(var(--rotation) - 1deg)) scale(0.99);\n            box-shadow: 0 2px 14px rgba(34, 197, 94, 0.18);\n            background: linear-gradient(135deg, #f7fee7, #fff);\n          }\n        }\n        \n        @keyframes sineWave7 {\n          0%, 100% { \n            transform: translateY(0) rotate(var(--rotation)) scale(1);\n            box-shadow: 0 6px 22px rgba(192, 192, 192, 0.25), 0 0 12px rgba(255, 255, 255, 0.6);\n            background: linear-gradient(135deg, #f8fafc, #fff, #f1f5f9);\n          }\n          35% { \n            transform: translateY(-4px) rotate(calc(var(--rotation) + 1deg)) scale(1.02);\n            box-shadow: 0 10px 30px rgba(192, 192, 192, 0.45), 0 0 18px rgba(255, 255, 255, 0.8);\n            background: linear-gradient(135deg, #e2e8f0, #f8fafc, #cbd5e1);\n          }\n          70% { \n            transform: translateY(2px) rotate(calc(var(--rotation) - 1deg)) scale(0.98);\n            box-shadow: 0 4px 18px rgba(192, 192, 192, 0.2), 0 0 8px rgba(255, 255, 255, 0.4);\n            background: linear-gradient(135deg, #f1f5f9, #fff, #e2e8f0);\n          }\n        }\n        \n        @keyframes sineWaveHub {\n          0%, 100% { \n            transform: translateY(0) scale(1);\n            box-shadow: \n              0 8px 32px rgba(239, 68, 68, 0.3),\n              0 4px 16px rgba(244, 63, 94, 0.2);\n            background: linear-gradient(135deg, #ef4444, #ec4899, #f43f5e);\n          }\n          50% { \n            transform: translateY(-8px) scale(1.05);\n            box-shadow: \n              0 16px 48px rgba(239, 68, 68, 0.4),\n              0 8px 24px rgba(244, 63, 94, 0.3),\n              0 0 20px rgba(255, 255, 255, 0.6);\n            background: linear-gradient(135deg, #f87171, #f472b6, #fb7185);\n          }\n        }\n        \n        @keyframes floatUp {\n          0% { opacity: 0; transform: translateY(10px) scale(0.8); }\n          30% { opacity: 1; transform: translateY(-15px) scale(1); }\n          100% { opacity: 0; transform: translateY(-35px) scale(0.9); }\n        }\n        \n        .popup-text {\n          position: absolute;\n          top: -35px;\n          left: 50%;\n          transform: translateX(-50%);\n          font-size: 11px;\n          font-weight: 600;\n          color: white;\n          background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);\n          padding: 4px 10px;\n          border-radius: 14px;\n          white-space: nowrap;\n          pointer-events: none;\n          opacity: 0;\n          box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);\n          backdrop-filter: blur(8px);\n        }\n        \n        @keyframes showFloat1 { 25% { animation: floatUp 1.2s ease-out; } }\n        @keyframes showFloat2 { 37% { animation: floatUp 1.2s ease-out; } }\n        @keyframes showFloat3 { 50% { animation: floatUp 1.2s ease-out; } }\n        @keyframes showFloat4 { 62% { animation: floatUp 1.2s ease-out; } }\n        @keyframes showFloat5 { 12% { animation: floatUp 1.2s ease-out; } }\n        @keyframes showFloat6 { 75% { animation: floatUp 1.2s ease-out; } }\n        @keyframes showFloat7 { 87% { animation: floatUp 1.2s ease-out; } }\n        @keyframes showFloat8 { 0% { animation: floatUp 1.2s ease-out; } }\n        \n        /* Simple highlight when blue dot crosses */\n        .workflow-node:nth-child(1) > div.shine-effect { animation: iconHighlight 0.6s ease-out 2s; }\n        .workflow-node:nth-child(2) > div.shine-effect { animation: iconHighlight 0.6s ease-out 3s; }\n        .workflow-node:nth-child(3) > div.shine-effect { animation: iconHighlight 0.6s ease-out 4s; }\n        .workflow-node:nth-child(4) > div.shine-effect { animation: iconHighlight 0.6s ease-out 5s; }\n        .workflow-node:nth-child(5) > div.shine-effect { animation: iconHighlight 0.6s ease-out 6s; }\n        .workflow-node:nth-child(6) > div.shine-effect { animation: iconHighlight 0.6s ease-out 7s; }\n        .workflow-node:nth-child(7) > div.shine-effect { animation: iconHighlight 0.6s ease-out 8s; }\n        .workflow-node:nth-child(8) > div { animation: iconHighlight 0.6s ease-out 10s; }\n        \n        @keyframes iconHighlight {\n          0% { \n            background: #fff;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n          }\n          50% { \n            background: linear-gradient(135deg, #f8fafc, #e2e8f0);\n            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);\n          }\n          100% { \n            background: #fff;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n          }\n        }\n        \n        .workflow-node:nth-child(1) .popup-text { animation: showFloat1 8s infinite ease-in-out; }\n        .workflow-node:nth-child(2) .popup-text { animation: showFloat2 8s infinite ease-in-out; }\n        .workflow-node:nth-child(3) .popup-text { animation: showFloat3 8s infinite ease-in-out; }\n        .workflow-node:nth-child(4) .popup-text { animation: showFloat4 8s infinite ease-in-out; }\n        .workflow-node:nth-child(5) .popup-text { animation: showFloat5 8s infinite ease-in-out; }\n        .workflow-node:nth-child(6) .popup-text { animation: showFloat6 8s infinite ease-in-out; }\n        .workflow-node:nth-child(7) .popup-text { animation: showFloat7 8s infinite ease-in-out; }\n        .workflow-node:nth-child(8) .popup-text { animation: showFloat8 6s infinite ease-in-out; }\n      "}),J.jsxs("div",{className:"min-h-screen flex",children:[J.jsxs("div",{className:"w-full lg:w-2/5 xl:w-5/12 bg-gradient-to-br from-white via-gray-50 to-white flex items-center justify-center p-6 relative overflow-hidden",children:[J.jsxs("div",{className:"absolute inset-0",children:[J.jsx("div",{className:"absolute inset-0 opacity-[0.02] background-pattern"}),J.jsx("div",{className:"absolute inset-0 opacity-[0.02] background-pattern"})]}),J.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[J.jsxs(Ne.div,{className:"text-center mb-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[J.jsx("div",{className:"flex justify-center mb-3",children:J.jsx("div",{className:"relative",children:J.jsx("img",{src:"https://i.postimg.cc/50f23gnF/logo.png",alt:"MeterSquare Interiors LLC",className:"h-10 w-auto object-contain"})})}),J.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Welcome to MeterSquare"}),J.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enterprise Resource Planning System"})]}),J.jsx(Ne.div,{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-6 border border-gray-100",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.1},children:J.jsx(Se,{mode:"wait",children:"email"===a?J.jsxs(Ne.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},onSubmit:y(async e=>{try{if(!e.email||!e.role)return void hr.error("Please fill all fields",{description:"Email and role are required"});g(!0),localStorage.removeItem("access_token"),localStorage.removeItem("user"),localStorage.removeItem("auth-storage"),localStorage.removeItem("sidebarCollapsed"),sessionStorage.clear(),h(e.email),m(e.role);const t=await Oa.sendOTP(e.email,e.role);n("otp"),d(30),hr.success("OTP Sent Successfully!",{description:"Please check your email for the OTP",duration:5e3,icon:J.jsx(ke,{className:"w-5 h-5 text-green-500"})}),t.otp}catch(t){t.message?.toLowerCase().includes("not found")||t.message?.toLowerCase().includes("no user")?hr.error("Email not found",{description:"Please check your email address and try again.",icon:J.jsx(ke,{className:"w-5 h-5 text-red-500"})}):t.message?.toLowerCase().includes("invalid role")?hr.error("Invalid role selection",{description:"The selected role is not assigned to this email.",icon:J.jsx(Te,{className:"w-5 h-5 text-red-500"})}):hr.error("Failed to send OTP",{description:t.message||"Please check your credentials and try again."})}finally{g(!1)}}),className:"space-y-4",children:[J.jsxs("div",{className:"space-y-2",children:[J.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[J.jsx(ke,{className:"w-4 h-4 text-gray-400"}),"Email Address"]}),J.jsx(Ne.div,{className:"relative",whileFocus:{scale:1.01},children:J.jsx("input",{...b("email"),type:"email",className:"w-full px-4 py-2.5 bg-gray-50/50 border border-gray-200 rounded-xl focus:bg-white focus:border-transparent focus:ring-2 focus:ring-[#243d8a] focus:ring-offset-2 transition-all duration-200 text-gray-700 placeholder-gray-400",placeholder:"user@metersquare.com"})}),j.email&&J.jsx(Ne.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-xs text-red-500 ml-1",children:j.email.message})]}),J.jsxs("div",{className:"space-y-2",children:[J.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[J.jsx(Te,{className:"w-4 h-4 text-gray-400"}),"Select Your Role"]}),J.jsxs("div",{className:"relative",children:[J.jsxs("button",{type:"button",onClick:()=>l(!i),className:"w-full px-4 py-2.5 bg-gray-50/50 border border-gray-200 rounded-xl focus:bg-white focus:border-[#243d8a] focus:ring-2 focus:ring-[#243d8a]/20 transition-all duration-200 text-gray-700 text-left flex items-center justify-between",children:[f?J.jsx("div",{className:"flex items-center gap-2",children:(()=>{const e=Ra.find(e=>e.value===f),t=e?.icon||Te;return J.jsxs(J.Fragment,{children:[J.jsx(t,{className:"w-4 h-4 text-[#243d8a]"}),J.jsx("span",{children:e?.label})]})})()}):J.jsx("span",{className:"text-gray-400",children:"Choose your role..."}),J.jsx(Pe,{className:"w-5 h-5 text-gray-400 transition-transform "+(i?"rotate-180":"")})]}),J.jsx(Se,{children:i&&J.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-50 w-full mt-2 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden",children:J.jsx("div",{className:"max-h-64 overflow-y-auto",children:Ra.map(e=>{const t=e.icon;return J.jsxs("button",{type:"button",...b("role"),onClick:()=>{w("role",e.value),m(e.value),l(!1)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 transition-colors",children:[J.jsx(t,{className:"w-4 h-4 text-[#243d8a]"}),J.jsx("span",{className:"text-gray-700",children:e.label}),f===e.value&&J.jsx(Oe,{className:"w-4 h-4 text-green-500 ml-auto"})]},e.value)})})})})]}),j.role&&J.jsx(Ne.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-xs text-red-500 ml-1",children:j.role.message})]}),J.jsx(Ne.button,{type:"submit",disabled:p,className:"w-full bg-[#243d8a] hover:bg-[#243d8a]/90 text-white font-semibold py-2.5 px-6 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:p?1:1.01},whileTap:{scale:p?1:.99},children:p?J.jsxs("div",{className:"flex items-center justify-center gap-2",children:[J.jsx(ka,{variant:"pulse-wave",size:"sm"}),J.jsx("span",{children:"Sending OTP..."})]}):J.jsxs(J.Fragment,{children:[J.jsx("span",{children:"Send OTP"}),J.jsx(Ce,{className:"w-5 h-5"})]})})]},"email-form"):J.jsxs(Ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[J.jsxs("div",{className:"text-center mb-4",children:[J.jsx("div",{className:"w-12 h-12 bg-[#243d8a]/10 rounded-full flex items-center justify-center mx-auto mb-3",children:J.jsx(Re,{className:"w-6 h-6 text-[#243d8a]"})}),J.jsx("h3",{className:"font-semibold text-gray-900",children:"Enter OTP"}),J.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["We've sent a code to ",u]})]}),J.jsx(Pa,{value:s,onChange:o,onComplete:e=>{6!==e.length||r||k(e)},disabled:r}),s.length<6&&J.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["Enter ",6-s.length," more digit",6-s.length!=1?"s":"","  Auto-verifies when complete"]}),J.jsx("div",{className:"text-center",children:c>0?J.jsxs("p",{className:"text-sm text-gray-500",children:["Resend OTP in ",J.jsxs("span",{className:"font-semibold text-[#243d8a]",children:[c,"s"]})]}):J.jsx("button",{type:"button",onClick:async()=>{if(0===c)try{const e=await Oa.sendOTP(u,f);d(30),hr.success("OTP Resent!",{description:"Please check your email for the new OTP",duration:5e3,icon:J.jsx(Xe,{className:"w-5 h-5 text-green-500"})}),e.otp}catch(e){hr.error("Failed to resend OTP",{description:e.message||"Please try again."})}},className:"text-sm font-medium text-[#243d8a] hover:text-[#243d8a]/80",children:"Resend OTP"})}),J.jsx(Ne.button,{onClick:k,disabled:v||6!==s.length,className:"w-full bg-[#243d8a] hover:bg-[#243d8a]/90 text-white font-semibold py-2.5 px-6 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:v?1:1.01},whileTap:{scale:v?1:.99},children:v?J.jsxs("div",{className:"flex items-center justify-center gap-2",children:[J.jsx(ka,{variant:"pulse-wave",size:"sm"}),J.jsx("span",{children:"Verifying..."})]}):J.jsxs(J.Fragment,{children:[J.jsx("span",{children:"Verify & Login"}),J.jsx(Ae,{className:"w-5 h-5"})]})}),J.jsx("button",{type:"button",onClick:()=>{n("email"),o("")},className:"w-full text-sm text-gray-500 hover:text-gray-700",children:" Back to email"})]},"otp-form")})}),J.jsxs(Ne.div,{className:"mt-4 flex items-center justify-center gap-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[J.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500",children:[J.jsx(Ie,{className:"w-4 h-4 text-green-500"}),J.jsx("span",{className:"text-xs",children:"SSL Secured"})]}),J.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500",children:[J.jsx(Me,{className:"w-4 h-4 text-[#243d8a]"}),J.jsx("span",{className:"text-xs",children:"99.9% Uptime"})]})]})]})]}),J.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-red-50 via-rose-50 to-red-50 relative overflow-hidden items-center justify-center",children:[J.jsxs("div",{className:"absolute inset-0",children:[J.jsx(Ne.div,{className:"absolute top-20 left-20 w-60 h-60 bg-red-200/30 rounded-full blur-3xl",animate:{x:[0,30,0],y:[0,-30,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),J.jsx(Ne.div,{className:"absolute bottom-20 right-20 w-80 h-80 bg-[#243d8a]/20/30 rounded-full blur-3xl",animate:{x:[0,-30,0],y:[0,30,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]}),J.jsxs("div",{className:"absolute top-6 left-6 right-6 flex justify-between",children:[J.jsx(Ne.div,{initial:{opacity:0,y:-30,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.3,duration:.6},className:"bg-gradient-to-br from-white/25 via-white/15 to-white/10 backdrop-blur-xl rounded-2xl p-3 shadow-2xl border border-white/30 -rotate-[5deg]",children:J.jsxs(Ne.div,{animate:{y:[0,-4,0],rotate:[0,2,-2,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"relative",children:[J.jsx(Le,{className:"w-6 h-6 text-emerald-600 filter drop-shadow-sm"}),J.jsx("div",{className:"absolute inset-0 bg-emerald-400/20 blur-xl rounded-full scale-150 animate-pulse"})]})}),J.jsx(Ne.div,{initial:{opacity:0,y:-30,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.5,duration:.6},className:"bg-gradient-to-br from-white/25 via-white/15 to-white/10 backdrop-blur-xl rounded-2xl p-3 shadow-2xl border border-white/30 rotate-3",children:J.jsxs(Ne.div,{animate:{rotate:[0,360],scale:[1,1.05,1]},transition:{rotate:{duration:15,repeat:1/0,ease:"linear"},scale:{duration:3,repeat:1/0,ease:"easeInOut"}},className:"relative",children:[J.jsx(_e,{className:"w-6 h-6 text-purple-600 filter drop-shadow-sm"}),J.jsx("div",{className:"absolute inset-0 bg-purple-400/20 blur-xl rounded-full scale-150 animate-pulse [animation-delay:1s]"})]})}),J.jsx(Ne.div,{initial:{opacity:0,y:-30,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.7,duration:.6},className:"bg-gradient-to-br from-white/25 via-white/15 to-white/10 backdrop-blur-xl rounded-2xl p-3 shadow-2xl border border-white/30 -rotate-2",children:J.jsxs(Ne.div,{animate:{scale:[1,1.08,1],rotate:[0,3,-3,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"relative",children:[J.jsx(De,{className:"w-6 h-6 text-indigo-600 filter drop-shadow-sm"}),J.jsx("div",{className:"absolute inset-0 bg-indigo-400/20 blur-xl rounded-full scale-150 animate-pulse [animation-delay:2s]"})]})})]}),J.jsxs("div",{className:"relative w-[750px] h-[500px]",children:[J.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 750 500",children:[J.jsxs("defs",{children:[J.jsxs("linearGradient",{id:"redGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[J.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0"}),J.jsx("stop",{offset:"25%",stopColor:"#6366f1",stopOpacity:"0.4"}),J.jsx("stop",{offset:"50%",stopColor:"#8b5cf6",stopOpacity:"0.8"}),J.jsx("stop",{offset:"75%",stopColor:"#a855f7",stopOpacity:"0.6"}),J.jsx("stop",{offset:"100%",stopColor:"#c084fc",stopOpacity:"0"})]}),J.jsxs("linearGradient",{id:"blueGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[J.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.2"}),J.jsx("stop",{offset:"50%",stopColor:"#3b82f6",stopOpacity:"0.7"}),J.jsx("stop",{offset:"100%",stopColor:"#6366f1",stopOpacity:"0.3"})]}),J.jsxs("radialGradient",{id:"glowGradient",cx:"50%",cy:"50%",r:"50%",children:[J.jsx("stop",{offset:"0%",stopColor:"#8b5cf6",stopOpacity:"0.8"}),J.jsx("stop",{offset:"40%",stopColor:"#6366f1",stopOpacity:"0.6"}),J.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.2"})]}),J.jsxs("filter",{id:"iconGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[J.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),J.jsxs("feMerge",{children:[J.jsx("feMergeNode",{in:"coloredBlur"}),J.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),J.jsx("filter",{id:"shadowGlow",x:"-100%",y:"-100%",width:"300%",height:"300%",children:J.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"6",floodColor:"#8b5cf6",floodOpacity:"0.3"})})]}),J.jsx("path",{d:"M 120 120 Q 230 120 350 120 T 540 120",stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeDasharray:"6 6",opacity:"0.6"}),J.jsx("path",{d:"M 540 120 Q 600 180 540 240",stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeDasharray:"6 6",opacity:"0.6"}),J.jsx("path",{d:"M 540 240 Q 430 240 350 240 T 120 240",stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeDasharray:"6 6",opacity:"0.6"}),J.jsx("path",{d:"M 120 240 Q 60 300 120 360",stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeDasharray:"6 6",opacity:"0.6"}),J.jsx("path",{d:"M 120 360 Q 230 360 350 360 T 540 360",stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeDasharray:"6 6",opacity:"0.6"}),J.jsxs("circle",{r:"4",filter:"url(#iconGlow)",children:[J.jsx("animateMotion",{dur:"15s",repeatCount:"indefinite",path:"M 120 120 Q 230 120 350 120 T 540 120 Q 600 180 540 240 Q 430 240 350 240 T 120 240 Q 60 300 120 360 Q 230 360 350 360 T 580 360 Q 540 360 350 360 Q 310 350 350 330"}),J.jsx("animate",{attributeName:"fill",values:"#ef4444;#ef4444;#ef4444;#ef4444;#ef4444;#ef4444;#ef4444;#ef4444;#ef4444;#ef4444;#10b981;#10b981;#10b981;#10b981;#10b981",dur:"15s",repeatCount:"indefinite",keyTimes:"0;0.1;0.2;0.3;0.4;0.5;0.6;0.65;0.69;0.7;0.75;0.8;0.85;0.95;1"}),J.jsx("animate",{attributeName:"opacity",values:"0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.4;0",dur:"15s",repeatCount:"indefinite",keyTimes:"0;0.1;0.2;0.3;0.4;0.5;0.6;0.65;0.7;0.72;0.73;0.8;0.85;0.95;1"})]}),J.jsxs("circle",{r:"4",filter:"url(#iconGlow)",children:[J.jsx("animateMotion",{dur:"15s",repeatCount:"indefinite",begin:"2s",path:"M 120 120 Q 230 120 350 120 T 540 120 Q 600 180 540 240 Q 430 240 350 240 T 120 240 Q 60 300 120 360 Q 230 360 350 360 T 580 360 Q 540 360 350 360 Q 310 350 350 330"}),J.jsx("animate",{attributeName:"fill",values:"#3b82f6;#3b82f6;#3b82f6;#3b82f6;#3b82f6;#3b82f6;#3b82f6;#3b82f6;#3b82f6;#3b82f6;#10b981;#10b981;#10b981;#10b981;#10b981",dur:"15s",begin:"2s",repeatCount:"indefinite",keyTimes:"0;0.1;0.2;0.3;0.4;0.5;0.6;0.65;0.69;0.7;0.75;0.8;0.85;0.95;1"}),J.jsx("animate",{attributeName:"opacity",values:"0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.8;0.4;0",dur:"15s",begin:"2s",repeatCount:"indefinite",keyTimes:"0;0.1;0.2;0.3;0.4;0.5;0.6;0.65;0.7;0.72;0.73;0.8;0.85;0.95;1"})]})]}),J.jsxs(Ne.div,{className:"absolute workflow-node left-[80px] top-[80px] -rotate-[3deg]",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:[J.jsx(Ne.div,{className:"bg-white backdrop-blur-sm rounded-xl p-3 shadow-lg border border-gray-200 transition-all duration-300 shine-effect",id:"node-request",children:J.jsx(Fe,{className:"w-6 h-6 text-red-500"})}),J.jsx("span",{className:"popup-text",children:"Processing"}),J.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs font-medium text-gray-600",children:"Request"})]}),J.jsxs(Ne.div,{className:"absolute workflow-node left-[310px] top-[80px] rotate-[2deg]",initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},children:[J.jsx(Ne.div,{className:"bg-white backdrop-blur-sm rounded-xl p-3 shadow-lg border border-gray-200 transition-all duration-300 shine-effect",id:"node-review",children:J.jsx(He,{className:"w-6 h-6 text-red-500"})}),J.jsx("span",{className:"popup-text",children:"Reviewing"}),J.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs font-medium text-gray-600",children:"Review"})]}),J.jsxs(Ne.div,{className:"absolute workflow-node left-[500px] top-[80px] -rotate-[1deg]",initial:{scale:0},animate:{scale:1},transition:{delay:.6,type:"spring"},children:[J.jsx(Ne.div,{className:"bg-white backdrop-blur-sm rounded-xl p-3 shadow-lg border border-gray-200 transition-all duration-300 shine-effect",id:"node-approval",children:J.jsx(Ue,{className:"w-6 h-6 text-[#243d8a]"})}),J.jsx("span",{className:"popup-text",children:"Approving"}),J.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs font-medium text-gray-600",children:"Approval"})]}),J.jsxs(Ne.div,{className:"absolute workflow-node left-[500px] top-[200px] rotate-[3deg]",initial:{scale:0},animate:{scale:1},transition:{delay:.8,type:"spring"},children:[J.jsx(Ne.div,{className:"bg-white backdrop-blur-sm rounded-xl p-3 shadow-lg border border-gray-200 transition-all duration-300 shine-effect",id:"node-process",children:J.jsx(Be,{className:"w-6 h-6 text-[#243d8a]"})}),J.jsx("span",{className:"popup-text",children:"Executing"}),J.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs font-medium text-gray-600",children:"Process"})]}),J.jsxs(Ne.div,{className:"absolute workflow-node left-[310px] top-[200px] -rotate-[2deg]",initial:{scale:0},animate:{scale:1},transition:{delay:1,type:"spring"},children:[J.jsx(Ne.div,{className:"bg-white backdrop-blur-sm rounded-xl p-3 shadow-lg border border-gray-200 transition-all duration-300 shine-effect",id:"node-production",children:J.jsx(We,{className:"w-6 h-6 text-red-500"})}),J.jsx("span",{className:"popup-text",children:"Building"}),J.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs font-medium text-gray-600",children:"Production"})]}),J.jsxs(Ne.div,{className:"absolute workflow-node left-[80px] top-[200px] rotate-[4deg]",initial:{scale:0},animate:{scale:1},transition:{delay:1.2,type:"spring"},children:[J.jsx(Ne.div,{className:"bg-white backdrop-blur-sm rounded-xl p-3 shadow-lg border border-gray-200 transition-all duration-300 shine-effect",id:"node-dispatch",children:J.jsx(Ve,{className:"w-6 h-6 text-[#243d8a]"})}),J.jsx("span",{className:"popup-text",children:"Shipping"}),J.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs font-medium text-gray-600",children:"Dispatch"})]}),J.jsxs(Ne.div,{className:"absolute workflow-node left-[80px] top-[320px] -rotate-[2deg]",initial:{scale:0},animate:{scale:1},transition:{delay:1.4,type:"spring"},children:[J.jsx(Ne.div,{className:"bg-white backdrop-blur-sm rounded-xl p-3 shadow-lg border border-gray-200 transition-all duration-300 shine-effect",id:"node-complete",children:J.jsx(qe,{className:"w-6 h-6 text-green-500"})}),J.jsx("span",{className:"popup-text",children:"Done!"}),J.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs font-medium text-gray-600",children:"Complete"})]}),J.jsxs(Ne.div,{className:"absolute workflow-node left-[310px] top-[320px]",initial:{scale:0},animate:{scale:1},transition:{delay:1.8,type:"spring"},children:[J.jsx("div",{className:"bg-gradient-to-br from-red-500 to-rose-500 rounded-xl p-3 shadow-lg",id:"node-hub",children:J.jsx(ze,{className:"w-6 h-6 text-white"})}),J.jsx("span",{className:"popup-text",children:"Syncing"}),J.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs font-semibold text-gray-700",children:"ERP Hub"})]})]}),J.jsxs(Ne.div,{className:"absolute bottom-8 left-0 right-0 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},children:[J.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-red-500 to-rose-600 bg-clip-text text-transparent",children:"Intelligent Workflow Automation"}),J.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:"Streamline your interior project management"}),J.jsxs("div",{className:"flex justify-center gap-6 mt-3",children:[J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx($e,{className:"w-4 h-4 text-red-500"}),J.jsx("span",{className:"text-xs text-gray-500",children:"5min Setup"})]}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx(Ye,{className:"w-4 h-4 text-[#243d8a]"}),J.jsx("span",{className:"text-xs text-gray-500",children:"Secure & Reliable"})]}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx(Ge,{className:"w-4 h-4 text-green-500"}),J.jsx("span",{className:"text-xs text-gray-500",children:"Advanced Analytics"})]})]})]})]})]})]})};var Ia=Object.defineProperty,Ma=(e,t,r)=>(((e,t,r)=>{t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);let La=new class{constructor(){Ma(this,"current",this.detect()),Ma(this,"handoffState","pending"),Ma(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},_a=(e,t)=>{La.isServer?ee.useEffect(e,t):ee.useLayoutEffect(e,t)};function Da(e){let t=ee.useRef(e);return _a(()=>{t.current=e},[e]),t}let Fa=function(e){let t=Da(e);return te.useCallback((...e)=>t.current(...e),[t])};function Ha(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function Ua(){let e=[],t={addEventListener:(e,r,a,n)=>(e.addEventListener(r,a,n),t.add(()=>e.removeEventListener(r,a,n))),requestAnimationFrame(...e){let r=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(r))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let r=setTimeout(...e);return t.add(()=>clearTimeout(r))},microTask(...e){let r={current:!0};return Ha(()=>{r.current&&e[0]()}),t.add(()=>{r.current=!1})},style(e,t,r){let a=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:a})})},group(e){let t=Ua();return e(t),this.add(()=>t.dispose())},add:t=>(e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let t of e.splice(r,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function Ba(){let[e]=ee.useState(Ua);return ee.useEffect(()=>()=>e.dispose(),[e]),e}function Wa(){let e=function(){let e="undefined"==typeof document;return"useSyncExternalStore"in se&&se.useSyncExternalStore(()=>()=>{},()=>!1,()=>!e)}(),[t,r]=ee.useState(La.isHandoffComplete);return t&&!1===La.isHandoffComplete&&r(!1),ee.useEffect(()=>{!0!==t&&r(!0)},[t]),ee.useEffect(()=>La.handoff(),[]),!e&&t}var Va;let qa=null!=(Va=te.useId)?Va:function(){let e=Wa(),[t,r]=te.useState(e?()=>La.nextId():null);return _a(()=>{null===t&&r(La.nextId())},[t]),null!=t?""+t:void 0};function za(e,t,...r){if(e in t){let a=t[e];return"function"==typeof a?a(...r):a}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,za),a}function $a(e){return La.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Ya=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ga,Qa,Ka,Ja=((Ka=Ja||{})[Ka.First=1]="First",Ka[Ka.Previous=2]="Previous",Ka[Ka.Next=4]="Next",Ka[Ka.Last=8]="Last",Ka[Ka.WrapAround=16]="WrapAround",Ka[Ka.NoScroll=32]="NoScroll",Ka),Za=((Qa=Za||{})[Qa.Error=0]="Error",Qa[Qa.Overflow=1]="Overflow",Qa[Qa.Success=2]="Success",Qa[Qa.Underflow=3]="Underflow",Qa),Xa=((Ga=Xa||{})[Ga.Previous=-1]="Previous",Ga[Ga.Next=1]="Next",Ga);var en=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(en||{});var tn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(tn||{});function rn(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let an=["textarea","input"].join(",");function nn(e,t,{sorted:r=!0,relativeTo:a=null,skipElements:n=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?function(e,t=e=>e){return e.slice().sort((e,r)=>{let a=t(e),n=t(r);if(null===a||null===n)return 0;let s=a.compareDocumentPosition(n);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}(e):e:function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(Ya)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e);n.length>0&&o.length>1&&(o=o.filter(e=>!n.includes(e))),a=null!=a?a:s.activeElement;let i,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,o.indexOf(a))-1;if(4&t)return Math.max(0,o.indexOf(a))+1;if(8&t)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=32&t?{preventScroll:!0}:{},u=0,h=o.length;do{if(u>=h||u+h<=0)return 0;let e=c+u;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}i=o[e],null==i||i.focus(d),u+=l}while(i!==s.activeElement);return 6&t&&function(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,an))&&r}(i)&&i.select(),2}function sn(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function on(){return sn()||/Android/gi.test(window.navigator.userAgent)}function ln(e,t,r){let a=Da(t);ee.useEffect(()=>{function t(e){a.current(e)}return document.addEventListener(e,t,r),()=>document.removeEventListener(e,t,r)},[e,r])}function cn(e,t,r){let a=Da(t);ee.useEffect(()=>{function t(e){a.current(e)}return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)},[e,r])}function dn(e,t,r=!0){let a=ee.useRef(!1);function n(r,n){if(!a.current||r.defaultPrevented)return;let s=n(r);if(null===s||!s.getRootNode().contains(s)||!s.isConnected)return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of o){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(s)||r.composed&&r.composedPath().includes(t))return}return!function(e,t=0){var r;return e!==(null==(r=$a(e))?void 0:r.body)&&za(t,{0:()=>e.matches(Ya),1(){let t=e;for(;null!==t;){if(t.matches(Ya))return!0;t=t.parentElement}return!1}})}(s,en.Loose)&&-1!==s.tabIndex&&r.preventDefault(),t(r,s)}ee.useEffect(()=>{requestAnimationFrame(()=>{a.current=r})},[r]);let s=ee.useRef(null);ln("pointerdown",e=>{var t,r;a.current&&(s.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),ln("mousedown",e=>{var t,r;a.current&&(s.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),ln("click",e=>{on()||s.current&&(n(e,()=>s.current),s.current=null)},!0),ln("touchend",e=>n(e,()=>e.target instanceof HTMLElement?e.target:null),!0),cn("blur",e=>n(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function un(...e){return ee.useMemo(()=>$a(...e),[...e])}let hn=Symbol();function fn(...e){let t=ee.useRef(e);ee.useEffect(()=>{t.current=e},[e]);let r=Fa(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[hn]))?void 0:r}function mn(e,t){let r=ee.useRef([]),a=Fa(e);ee.useEffect(()=>{let e=[...r.current];for(let[n,s]of t.entries())if(r.current[n]!==s){let n=a(t,e);return r.current=t,n}},[a,...t])}function pn(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}var gn,vn=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(vn||{}),xn=((gn=xn||{})[gn.Unmount=0]="Unmount",gn[gn.Hidden=1]="Hidden",gn);function bn({ourProps:e,theirProps:t,slot:r,defaultTag:a,features:n,visible:s=!0,name:o,mergeRefs:i}){i=null!=i?i:wn;let l=jn(t,e);if(s)return yn(l,r,a,o,i);let c=null!=n?n:0;if(2&c){let{static:e=!1,...t}=l;if(e)return yn(t,r,a,o,i)}if(1&c){let{unmount:e=!0,...t}=l;return za(e?0:1,{0:()=>null,1:()=>yn({...t,hidden:!0,style:{display:"none"}},r,a,o,i)})}return yn(l,r,a,o,i)}function yn(e,t={},r,a,n){let{as:s=r,children:o,refName:i="ref",...l}=Sn(e,["unmount","static"]),c=void 0!==e.ref?{[i]:e.ref}:{},d="function"==typeof o?o(t):o;"className"in l&&l.className&&"function"==typeof l.className&&(l.className=l.className(t));let u={};if(t){let e=!1,r=[];for(let[a,n]of Object.entries(t))"boolean"==typeof n&&(e=!0),!0===n&&r.push(a);e&&(u["data-headlessui-state"]=r.join(" "))}if(s===ee.Fragment&&Object.keys(Nn(l)).length>0){if(!ee.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(e=>`  - ${e}`).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join("\n")].join("\n"));let e=d.props,t="function"==typeof(null==e?void 0:e.className)?(...t)=>pn(null==e?void 0:e.className(...t),l.className):pn(null==e?void 0:e.className,l.className),r=t?{className:t}:{};return ee.cloneElement(d,Object.assign({},jn(d.props,Nn(Sn(l,["ref"]))),u,c,{ref:n(d.ref,c.ref)},r))}return ee.createElement(s,Object.assign({},Sn(l,["ref"]),s!==ee.Fragment&&c,s!==ee.Fragment&&u),d)}function wn(...e){return e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}function jn(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let a of e)for(let e in a)e.startsWith("on")&&"function"==typeof a[e]?(null!=r[e]||(r[e]=[]),r[e].push(a[e])):t[e]=a[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(e=>[e,void 0])));for(let a in r)Object.assign(t,{[a](e,...t){let n=r[a];for(let r of n){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;r(e,...t)}}});return t}function En(e){var t;return Object.assign(ee.forwardRef(e),{displayName:null!=(t=e.displayName)?t:e.name})}function Nn(e){let t=Object.assign({},e);for(let r in t)void 0===t[r]&&delete t[r];return t}function Sn(e,t=[]){let r=Object.assign({},e);for(let a of t)a in r&&delete r[a];return r}var kn=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(kn||{});let Tn=En(function(e,t){var r;let{features:a=1,...n}=e;return bn({ourProps:{ref:t,"aria-hidden":!(2&~a)||(null!=(r=n["aria-hidden"])?r:void 0),hidden:!(4&~a)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~a)&&!!(2&~a)&&{display:"none"}}},theirProps:n,slot:{},defaultTag:"div",name:"Hidden"})}),Pn=ee.createContext(null);Pn.displayName="OpenClosedContext";var On=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(On||{});function Cn(){return ee.useContext(Pn)}function Rn({value:e,children:t}){return te.createElement(Pn.Provider,{value:e},t)}let An=[];function In(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let a=""===(null==t?void 0:t.getAttribute("disabled"));return(!a||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&a}!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}(()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&An[0]!==e.target&&(An.unshift(e.target),An=An.filter(e=>null!=e&&e.isConnected),An.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var Mn,Ln=((Mn=Ln||{}).Space=" ",Mn.Enter="Enter",Mn.Escape="Escape",Mn.Backspace="Backspace",Mn.Delete="Delete",Mn.ArrowLeft="ArrowLeft",Mn.ArrowUp="ArrowUp",Mn.ArrowRight="ArrowRight",Mn.ArrowDown="ArrowDown",Mn.Home="Home",Mn.End="End",Mn.PageUp="PageUp",Mn.PageDown="PageDown",Mn.Tab="Tab",Mn);function _n(e,t,r,a){let n=Da(r);ee.useEffect(()=>{function r(e){n.current(e)}return(e=null!=e?e:window).addEventListener(t,r,a),()=>e.removeEventListener(t,r,a)},[e,t,a])}function Dn(){let e=ee.useRef(!1);return _a(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Fn(e){let t=Fa(e),r=ee.useRef(!1);ee.useEffect(()=>(r.current=!1,()=>{r.current=!0,Ha(()=>{r.current&&t()})}),[t])}var Hn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Hn||{});function Un(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}var Bn=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Bn||{});let Wn=En(function(e,t){let r=ee.useRef(null),a=fn(r,t),{initialFocus:n,containers:s,features:o=30,...i}=e;Wa()||(o=1);let l=un(r);!function({ownerDocument:e},t){let r=function(e=!0){let t=ee.useRef(An.slice());return mn(([e],[r])=>{!0===r&&!1===e&&Ha(()=>{t.current.splice(0)}),!1===r&&!0===e&&(t.current=An.slice())},[e,An,t]),Fa(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(t);mn(()=>{t||(null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&rn(r())},[t]),Fn(()=>{t&&rn(r())})}({ownerDocument:l},Boolean(16&o));let c=function({ownerDocument:e,container:t,initialFocus:r},a){let n=ee.useRef(null),s=Dn();return mn(()=>{if(!a)return;let o=t.current;o&&Ha(()=>{if(!s.current)return;let t=null==e?void 0:e.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===t)return void(n.current=t)}else if(o.contains(t))return void(n.current=t);null!=r&&r.current?rn(r.current):(nn(o,Ja.First),Za.Error),n.current=null==e?void 0:e.activeElement})},[a]),n}({ownerDocument:l,container:r,initialFocus:n},Boolean(2&o));!function({ownerDocument:e,container:t,containers:r,previousActiveElement:a},n){let s=Dn();_n(null==e?void 0:e.defaultView,"focus",e=>{if(!n||!s.current)return;let o=Un(r);t.current instanceof HTMLElement&&o.add(t.current);let i=a.current;if(!i)return;let l=e.target;l&&l instanceof HTMLElement?qn(o,l)?(a.current=l,rn(l)):(e.preventDefault(),e.stopPropagation(),rn(i)):rn(a.current)},!0)}({ownerDocument:l,container:r,containers:s,previousActiveElement:c},Boolean(8&o));let d=function(){let e=ee.useRef(0);return cn("keydown",t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)},!0),e}(),u=Fa(e=>{let t=r.current;t&&za(d.current,{[Hn.Forwards]:()=>{nn(t,Ja.First,{skipElements:[e.relatedTarget]})},[Hn.Backwards]:()=>{nn(t,Ja.Last,{skipElements:[e.relatedTarget]})}})}),h=Ba(),f=ee.useRef(!1),m={ref:a,onKeyDown(e){"Tab"==e.key&&(f.current=!0,h.requestAnimationFrame(()=>{f.current=!1}))},onBlur(e){let t=Un(s);r.current instanceof HTMLElement&&t.add(r.current);let a=e.relatedTarget;a instanceof HTMLElement&&"true"!==a.dataset.headlessuiFocusGuard&&(qn(t,a)||(f.current?nn(r.current,za(d.current,{[Hn.Forwards]:()=>Ja.Next,[Hn.Backwards]:()=>Ja.Previous})|Ja.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&rn(e.target)))}};return te.createElement(te.Fragment,null,Boolean(4&o)&&te.createElement(Tn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:kn.Focusable}),bn({ourProps:m,theirProps:i,defaultTag:"div",name:"FocusTrap"}),Boolean(4&o)&&te.createElement(Tn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:kn.Focusable}))}),Vn=Object.assign(Wn,{features:Bn});function qn(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let zn=ee.createContext(!1);function $n(e){return te.createElement(zn.Provider,{value:e.force},e.children)}function Yn(e){let t=ee.useContext(zn),r=ee.useContext(Kn),a=un(e),[n,s]=ee.useState(()=>{if(!t&&null!==r||La.isServer)return null;let e=null==a?void 0:a.getElementById("headlessui-portal-root");if(e)return e;if(null===a)return null;let n=a.createElement("div");return n.setAttribute("id","headlessui-portal-root"),a.body.appendChild(n)});return ee.useEffect(()=>{null!==n&&(null!=a&&a.body.contains(n)||null==a||a.body.appendChild(n))},[n,a]),ee.useEffect(()=>{t||null!==r&&s(r.current)},[r,s,t]),n}let Gn=ee.Fragment;let Qn=ee.Fragment,Kn=ee.createContext(null);let Jn=ee.createContext(null);let Zn=En(function(e,t){let r=e,a=ee.useRef(null),n=fn(function(e,t=!0){return Object.assign(e,{[hn]:t})}(e=>{a.current=e}),t),s=un(a),o=Yn(a),[i]=ee.useState(()=>{var e;return La.isServer?null:null!=(e=null==s?void 0:s.createElement("div"))?e:null}),l=ee.useContext(Jn),c=Wa();return _a(()=>{!o||!i||o.contains(i)||(i.setAttribute("data-headlessui-portal",""),o.appendChild(i))},[o,i]),_a(()=>{if(i&&l)return l.register(i)},[l,i]),Fn(()=>{var e;!o||!i||(i instanceof Node&&o.contains(i)&&o.removeChild(i),o.childNodes.length<=0&&(null==(e=o.parentElement)||e.removeChild(o)))}),c&&o&&i?X.createPortal(bn({ourProps:{ref:n},theirProps:r,defaultTag:Gn,name:"Portal"}),i):null}),Xn=En(function(e,t){let{target:r,...a}=e,n={ref:fn(t)};return te.createElement(Kn.Provider,{value:r},bn({ourProps:n,theirProps:a,defaultTag:Qn,name:"Popover.Group"}))}),es=Object.assign(Zn,{Group:Xn});const ts="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:rs,useEffect:as,useLayoutEffect:ns,useDebugValue:ss}=se;function os(e){const t=e.getSnapshot,r=e.value;try{const e=t();return!ts(r,e)}catch{return!0}}const is=!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement)?function(e,t,r){return t()}:function(e,t,r){const a=t(),[{inst:n},s]=rs({inst:{value:a,getSnapshot:t}});return ns(()=>{n.value=a,n.getSnapshot=t,os(n)&&s({inst:n})},[e,a,t]),as(()=>(os(n)&&s({inst:n}),e(()=>{os(n)&&s({inst:n})})),[e]),ss(a),a},ls="useSyncExternalStore"in se?se.useSyncExternalStore:is;function cs(){let e;return{before({doc:t}){var r;let a=t.documentElement;e=(null!=(r=t.defaultView)?r:window).innerWidth-a.clientWidth},after({doc:t,d:r}){let a=t.documentElement,n=a.clientWidth-a.offsetWidth,s=e-n;r.style(a,"paddingRight",`${s}px`)}}}function ds(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let us=function(e,t){let r=e(),a=new Set;return{getSnapshot:()=>r,subscribe:e=>(a.add(e),()=>a.delete(e)),dispatch(e,...n){let s=t[e].call(r,...n);s&&(r=s,a.forEach(e=>e()))}}}(()=>new Map,{PUSH(e,t){var r;let a=null!=(r=this.get(e))?r:{doc:e,count:0,d:Ua(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let a={doc:e,d:t,meta:ds(r)},n=[sn()?{before({doc:e,d:t,meta:r}){function a(e){return r.containers.flatMap(e=>e()).some(t=>t.contains(e))}t.microTask(()=>{var r;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let r=Ua();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let n=null!=(r=window.scrollY)?r:window.pageYOffset,s=null;t.addEventListener(e,"click",t=>{if(t.target instanceof HTMLElement)try{let r=t.target.closest("a");if(!r)return;let{hash:n}=new URL(r.href),o=e.querySelector(n);o&&!a(o)&&(s=o)}catch{}},!0),t.addEventListener(e,"touchstart",e=>{if(e.target instanceof HTMLElement)if(a(e.target)){let r=e.target;for(;r.parentElement&&a(r.parentElement);)r=r.parentElement;t.style(r,"overscrollBehavior","contain")}else t.style(e.target,"touchAction","none")}),t.addEventListener(e,"touchmove",e=>{if(e.target instanceof HTMLElement)if(a(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()},{passive:!1}),t.add(()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;n!==t&&window.scrollTo(0,n),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{},cs(),{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];n.forEach(({before:e})=>null==e?void 0:e(a)),n.forEach(({after:e})=>null==e?void 0:e(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});function hs(e,t,r){let a=function(e){return ls(e.subscribe,e.getSnapshot,e.getSnapshot)}(us),n=e?a.get(e):void 0,s=!!n&&n.count>0;return _a(()=>{if(e&&t)return us.dispatch("PUSH",e,r),()=>us.dispatch("POP",e,r)},[t,e]),s}us.subscribe(()=>{let e=us.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),a=0!==r.count;(a&&!e||!a&&e)&&us.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&us.dispatch("TEARDOWN",r)}});let fs=new Map,ms=new Map;function ps(e,t=!0){_a(()=>{var r;if(!t)return;let a="function"==typeof e?e():e.current;if(!a)return;let n=null!=(r=ms.get(a))?r:0;return ms.set(a,n+1),0!==n||(fs.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0),function(){var e;if(!a)return;let t=null!=(e=ms.get(a))?e:1;if(1===t?ms.delete(a):ms.set(a,t-1),1!==t)return;let r=fs.get(a);r&&(null===r["aria-hidden"]?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",r["aria-hidden"]),a.inert=r.inert,fs.delete(a))}},[e,t])}let gs=ee.createContext(()=>{});gs.displayName="StackContext";var vs=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(vs||{});function xs({children:e,onUpdate:t,type:r,element:a,enabled:n}){let s=ee.useContext(gs),o=Fa((...e)=>{null==t||t(...e),s(...e)});return _a(()=>{let e=void 0===n||!0===n;return e&&o(0,r,a),()=>{e&&o(1,r,a)}},[o,r,a,n]),te.createElement(gs.Provider,{value:o},e)}let bs=ee.createContext(null);function ys(){let e=ee.useContext(bs);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ys),e}return e}let ws=En(function(e,t){let r=qa(),{id:a=`headlessui-description-${r}`,...n}=e,s=ys(),o=fn(t);return _a(()=>s.register(a),[a,s.register]),bn({ourProps:{ref:o,...s.props,id:a},theirProps:n,slot:s.slot||{},defaultTag:"p",name:s.name||"Description"})}),js=Object.assign(ws,{});var Es=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Es||{}),Ns=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Ns||{});let Ss={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},ks=ee.createContext(null);function Ts(e){let t=ee.useContext(ks);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ts),t}return t}function Ps(e,t){return za(t.type,Ss,e,t)}ks.displayName="DialogContext";let Os=vn.RenderStrategy|vn.Static;let Cs=En(function(e,t){let r=qa(),{id:a=`headlessui-dialog-${r}`,open:n,onClose:s,initialFocus:o,role:i="dialog",__demoMode:l=!1,...c}=e,[d,u]=ee.useState(0),h=ee.useRef(!1);i="dialog"===i||"alertdialog"===i?i:(h.current||(h.current=!0),"dialog");let f=Cn();void 0===n&&null!==f&&(n=(f&On.Open)===On.Open);let m=ee.useRef(null),p=fn(m,t),g=un(m),v=e.hasOwnProperty("open")||null!==f,x=e.hasOwnProperty("onClose");if(!v&&!x)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!v)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!x)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof n)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n}`);if("function"!=typeof s)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let b=n?0:1,[y,w]=ee.useReducer(Ps,{titleId:null,descriptionId:null,panelRef:ee.createRef()}),j=Fa(()=>s(!1)),E=Fa(e=>w({type:0,id:e})),N=!!Wa()&&(!l&&0===b),S=d>1,k=null!==ee.useContext(ks),[T,P]=function(){let e=ee.useContext(Jn),t=ee.useRef([]),r=Fa(r=>(t.current.push(r),e&&e.register(r),()=>a(r))),a=Fa(r=>{let a=t.current.indexOf(r);-1!==a&&t.current.splice(a,1),e&&e.unregister(r)}),n=ee.useMemo(()=>({register:r,unregister:a,portals:t}),[r,a,t]);return[t,ee.useMemo(()=>function({children:e}){return te.createElement(Jn.Provider,{value:n},e)},[n])]}(),O={get current(){var e;return null!=(e=y.panelRef.current)?e:m.current}},{resolveContainers:C,mainTreeNodeRef:R,MainTreeNode:A}=function({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var a;let n=ee.useRef(null!=(a=null==r?void 0:r.current)?a:null),s=un(n),o=Fa(()=>{var r,a,o;let i=[];for(let t of e)null!==t&&(t instanceof HTMLElement?i.push(t):"current"in t&&t.current instanceof HTMLElement&&i.push(t.current));if(null!=t&&t.current)for(let e of t.current)i.push(e);for(let e of null!=(r=null==s?void 0:s.querySelectorAll("html > *, body > *"))?r:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(n.current)||e.contains(null==(o=null==(a=n.current)?void 0:a.getRootNode())?void 0:o.host)||i.some(t=>e.contains(t))||i.push(e));return i});return{resolveContainers:o,contains:Fa(e=>o().some(t=>t.contains(e))),mainTreeNodeRef:n,MainTreeNode:ee.useMemo(()=>function(){return null!=r?null:te.createElement(Tn,{features:kn.Hidden,ref:n})},[n,r])}}({portals:T,defaultContainers:[O]}),I=S?"parent":"leaf",M=null!==f&&(f&On.Closing)===On.Closing,L=!k&&!M&&N,_=ee.useCallback(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==g?void 0:g.querySelectorAll("body > *"))?e:[]).find(e=>"headlessui-portal-root"!==e.id&&(e.contains(R.current)&&e instanceof HTMLElement)))?t:null},[R]);ps(_,L);let D=!!S||N,F=ee.useCallback(()=>{var e,t;return null!=(t=Array.from(null!=(e=null==g?void 0:g.querySelectorAll("[data-headlessui-portal]"))?e:[]).find(e=>e.contains(R.current)&&e instanceof HTMLElement))?t:null},[R]);ps(F,D),dn(C,e=>{e.preventDefault(),j()},!(!N||S));let H=!(S||0!==b);_n(null==g?void 0:g.defaultView,"keydown",e=>{H&&(e.defaultPrevented||e.key===Ln.Escape&&(e.preventDefault(),e.stopPropagation(),j()))}),function(e,t,r=()=>[document.body]){hs(e,t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}})}(g,!(M||0!==b||k),C),ee.useEffect(()=>{if(0!==b||!m.current)return;let e=new ResizeObserver(e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&j()}});return e.observe(m.current),()=>e.disconnect()},[b,m,j]);let[U,B]=function(){let[e,t]=ee.useState([]);return[e.length>0?e.join(" "):void 0,ee.useMemo(()=>function(e){let r=Fa(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),a=r.indexOf(e);return-1!==a&&r.splice(a,1),r}))),a=ee.useMemo(()=>({register:r,slot:e.slot,name:e.name,props:e.props}),[r,e.slot,e.name,e.props]);return te.createElement(bs.Provider,{value:a},e.children)},[t])]}(),W=ee.useMemo(()=>[{dialogState:b,close:j,setTitleId:E},y],[b,y,j,E]),V=ee.useMemo(()=>({open:0===b}),[b]),q={ref:p,id:a,role:i,"aria-modal":0===b||void 0,"aria-labelledby":y.titleId,"aria-describedby":U};return te.createElement(xs,{type:"Dialog",enabled:0===b,element:m,onUpdate:Fa((e,t)=>{"Dialog"===t&&za(e,{[vs.Add]:()=>u(e=>e+1),[vs.Remove]:()=>u(e=>e-1)})})},te.createElement($n,{force:!0},te.createElement(es,null,te.createElement(ks.Provider,{value:W},te.createElement(es.Group,{target:m},te.createElement($n,{force:!1},te.createElement(B,{slot:V,name:"Dialog.Description"},te.createElement(Vn,{initialFocus:o,containers:C,features:N?za(I,{parent:Vn.features.RestoreFocus,leaf:Vn.features.All&~Vn.features.FocusLock}):Vn.features.None},te.createElement(P,null,bn({ourProps:q,theirProps:c,slot:V,defaultTag:"div",features:Os,visible:0===b,name:"Dialog"}))))))))),te.createElement(A,null))}),Rs=En(function(e,t){let r=qa(),{id:a=`headlessui-dialog-backdrop-${r}`,...n}=e,[{dialogState:s},o]=Ts("Dialog.Backdrop"),i=fn(t);ee.useEffect(()=>{if(null===o.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=ee.useMemo(()=>({open:0===s}),[s]);return te.createElement($n,{force:!0},te.createElement(es,null,bn({ourProps:{ref:i,id:a,"aria-hidden":!0},theirProps:n,slot:l,defaultTag:"div",name:"Dialog.Backdrop"})))}),As=En(function(e,t){let r=qa(),{id:a=`headlessui-dialog-panel-${r}`,...n}=e,[{dialogState:s},o]=Ts("Dialog.Panel"),i=fn(t,o.panelRef),l=ee.useMemo(()=>({open:0===s}),[s]);return bn({ourProps:{ref:i,id:a,onClick:Fa(e=>{e.stopPropagation()})},theirProps:n,slot:l,defaultTag:"div",name:"Dialog.Panel"})}),Is=En(function(e,t){let r=qa(),{id:a=`headlessui-dialog-overlay-${r}`,...n}=e,[{dialogState:s,close:o}]=Ts("Dialog.Overlay");return bn({ourProps:{ref:fn(t),id:a,"aria-hidden":!0,onClick:Fa(e=>{if(e.target===e.currentTarget){if(In(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}})},theirProps:n,slot:ee.useMemo(()=>({open:0===s}),[s]),defaultTag:"div",name:"Dialog.Overlay"})}),Ms=En(function(e,t){let r=qa(),{id:a=`headlessui-dialog-title-${r}`,...n}=e,[{dialogState:s,setTitleId:o}]=Ts("Dialog.Title"),i=fn(t);ee.useEffect(()=>(o(a),()=>o(null)),[a,o]);let l=ee.useMemo(()=>({open:0===s}),[s]);return bn({ourProps:{ref:i,id:a},theirProps:n,slot:l,defaultTag:"h2",name:"Dialog.Title"})}),Ls=Object.assign(Cs,{Backdrop:Rs,Panel:As,Overlay:Is,Title:Ms,Description:js});function _s(e,...t){e&&t.length>0&&e.classList.add(...t)}function Ds(e,...t){e&&t.length>0&&e.classList.remove(...t)}function Fs(e,t,r,a){let n=r?"enter":"leave",s=Ua(),o=void 0!==a?function(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}(a):()=>{};"enter"===n&&(e.removeAttribute("hidden"),e.style.display="");let i=za(n,{enter:()=>t.enter,leave:()=>t.leave}),l=za(n,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=za(n,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Ds(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),_s(e,...t.base,...i,...c),s.nextFrame(()=>{Ds(e,...t.base,...i,...c),_s(e,...t.base,...i,...l),function(e,t){let r=Ua();if(!e)return r.dispose;let{transitionDuration:a,transitionDelay:n}=getComputedStyle(e),[s,o]=[a,n].map(e=>{let[t=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,t)=>t-e);return t}),i=s+o;if(0!==i){r.group(r=>{r.setTimeout(()=>{t(),r.dispose()},i),r.addEventListener(e,"transitionrun",e=>{e.target===e.currentTarget&&r.dispose()})});let a=r.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(t(),a())})}else t();r.add(()=>t()),r.dispose}(e,()=>(Ds(e,...t.base,...i),_s(e,...t.base,...t.entered),o()))}),s.dispose}function Hs(e=""){return e.split(/\s+/).filter(e=>e.length>1)}let Us=ee.createContext(null);Us.displayName="TransitionContext";var Bs=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Bs||{});let Ws=ee.createContext(null);function Vs(e){return"children"in e?Vs(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function qs(e,t){let r=Da(e),a=ee.useRef([]),n=Dn(),s=Ba(),o=Fa((e,t=xn.Hidden)=>{let o=a.current.findIndex(({el:t})=>t===e);-1!==o&&(za(t,{[xn.Unmount](){a.current.splice(o,1)},[xn.Hidden](){a.current[o].state="hidden"}}),s.microTask(()=>{var e;!Vs(a)&&n.current&&(null==(e=r.current)||e.call(r))}))}),i=Fa(e=>{let t=a.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):a.current.push({el:e,state:"visible"}),()=>o(e,xn.Unmount)}),l=ee.useRef([]),c=ee.useRef(Promise.resolve()),d=ee.useRef({enter:[],leave:[],idle:[]}),u=Fa((e,r,a)=>{l.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([t])=>t!==e)),null==t||t.chains.current[r].push([e,new Promise(e=>{l.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(d.current[r].map(([e,t])=>t)).then(()=>e())})]),"enter"===r?c.current=c.current.then(()=>null==t?void 0:t.wait.current).then(()=>a(r)):a(r)}),h=Fa((e,t,r)=>{Promise.all(d.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=l.current.shift())||e()}).then(()=>r(t))});return ee.useMemo(()=>({children:a,register:i,unregister:o,onStart:u,onStop:h,wait:c,chains:d}),[i,o,a,u,h,d,c])}function zs(){}Ws.displayName="NestingContext";let $s=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Ys(e){var t;let r={};for(let a of $s)r[a]=null!=(t=e[a])?t:zs;return r}let Gs=vn.RenderStrategy;let Qs=En(function(e,t){let{show:r,appear:a=!1,unmount:n=!0,...s}=e,o=ee.useRef(null),i=fn(o,t);Wa();let l=Cn();if(void 0===r&&null!==l&&(r=(l&On.Open)===On.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=ee.useState(r?"visible":"hidden"),u=qs(()=>{d("hidden")}),[h,f]=ee.useState(!0),m=ee.useRef([r]);_a(()=>{!1!==h&&m.current[m.current.length-1]!==r&&(m.current.push(r),f(!1))},[m,r]);let p=ee.useMemo(()=>({show:r,appear:a,initial:h}),[r,a,h]);ee.useEffect(()=>{if(r)d("visible");else if(Vs(u)){let e=o.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&d("hidden")}else d("hidden")},[r,u]);let g={unmount:n},v=Fa(()=>{var t;h&&f(!1),null==(t=e.beforeEnter)||t.call(e)}),x=Fa(()=>{var t;h&&f(!1),null==(t=e.beforeLeave)||t.call(e)});return te.createElement(Ws.Provider,{value:u},te.createElement(Us.Provider,{value:p},bn({ourProps:{...g,as:ee.Fragment,children:te.createElement(Ks,{ref:i,...g,...s,beforeEnter:v,beforeLeave:x})},theirProps:{},defaultTag:ee.Fragment,features:Gs,visible:"visible"===c,name:"Transition"})))}),Ks=En(function(e,t){var r,a;let{beforeEnter:n,afterEnter:s,beforeLeave:o,afterLeave:i,enter:l,enterFrom:c,enterTo:d,entered:u,leave:h,leaveFrom:f,leaveTo:m,...p}=e,g=ee.useRef(null),v=fn(g,t),x=null==(r=p.unmount)||r?xn.Unmount:xn.Hidden,{show:b,appear:y,initial:w}=function(){let e=ee.useContext(Us);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[j,E]=ee.useState(b?"visible":"hidden"),N=function(){let e=ee.useContext(Ws);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:S,unregister:k}=N;ee.useEffect(()=>S(g),[S,g]),ee.useEffect(()=>{if(x===xn.Hidden&&g.current)return b&&"visible"!==j?void E("visible"):za(j,{hidden:()=>k(g),visible:()=>S(g)})},[j,g,S,k,b,x]);let T=Da({base:Hs(p.className),enter:Hs(l),enterFrom:Hs(c),enterTo:Hs(d),entered:Hs(u),leave:Hs(h),leaveFrom:Hs(f),leaveTo:Hs(m)}),P=function(e){let t=ee.useRef(Ys(e));return ee.useEffect(()=>{t.current=Ys(e)},[e]),t}({beforeEnter:n,afterEnter:s,beforeLeave:o,afterLeave:i}),O=Wa();ee.useEffect(()=>{if(O&&"visible"===j&&null===g.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,j,O]);let C=y&&b&&w,R=!O||w&&!y?"idle":b?"enter":"leave",A=function(e=0){let[t,r]=ee.useState(e),a=Dn(),n=ee.useCallback(e=>{a.current&&r(t=>t|e)},[t,a]),s=ee.useCallback(e=>Boolean(t&e),[t]),o=ee.useCallback(e=>{a.current&&r(t=>t&~e)},[r,a]),i=ee.useCallback(e=>{a.current&&r(t=>t^e)},[r]);return{flags:t,addFlag:n,hasFlag:s,removeFlag:o,toggleFlag:i}}(0),I=Fa(e=>za(e,{enter:()=>{A.addFlag(On.Opening),P.current.beforeEnter()},leave:()=>{A.addFlag(On.Closing),P.current.beforeLeave()},idle:()=>{}})),M=Fa(e=>za(e,{enter:()=>{A.removeFlag(On.Opening),P.current.afterEnter()},leave:()=>{A.removeFlag(On.Closing),P.current.afterLeave()},idle:()=>{}})),L=qs(()=>{E("hidden"),k(g)},N),_=ee.useRef(!1);!function({immediate:e,container:t,direction:r,classes:a,onStart:n,onStop:s}){let o=Dn(),i=Ba(),l=Da(r);_a(()=>{e&&(l.current="enter")},[e]),_a(()=>{let e=Ua();i.add(e.dispose);let r=t.current;if(r&&"idle"!==l.current&&o.current)return e.dispose(),n.current(l.current),e.add(Fs(r,a.current,"enter"===l.current,()=>{e.dispose(),s.current(l.current)})),e.dispose},[r])}({immediate:C,container:g,classes:T,direction:R,onStart:Da(e=>{_.current=!0,L.onStart(g,e,I)}),onStop:Da(e=>{_.current=!1,L.onStop(g,e,M),"leave"===e&&!Vs(L)&&(E("hidden"),k(g))})});let D=p,F={ref:v};return C?D={...D,className:pn(p.className,...T.current.enter,...T.current.enterFrom)}:_.current&&(D.className=pn(p.className,null==(a=g.current)?void 0:a.className),""===D.className&&delete D.className),te.createElement(Ws.Provider,{value:L},te.createElement(Rn,{value:za(j,{visible:On.Open,hidden:On.Closed})|A.flags},bn({ourProps:F,theirProps:D,defaultTag:"div",features:Gs,visible:"visible"===j,name:"Transition.Child"})))}),Js=En(function(e,t){let r=null!==ee.useContext(Us),a=null!==Cn();return te.createElement(te.Fragment,null,!r&&a?te.createElement(Qs,{ref:t,...e}):te.createElement(Ks,{ref:t,...e}))}),Zs=Object.assign(Qs,{Child:Js,Root:Qs});function Xs({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const eo=ee.forwardRef(Xs);function to({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const ro=ee.forwardRef(to);function ao({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const no=ee.forwardRef(ao);function so({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const oo=ee.forwardRef(so);function io({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const lo=ee.forwardRef(io);function co({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const uo=ee.forwardRef(co);function ho({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const fo=ee.forwardRef(ho);function mo({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const po=ee.forwardRef(mo);function go({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const vo=ee.forwardRef(go);function xo({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const bo=ee.forwardRef(xo);function yo({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const wo=ee.forwardRef(yo);function jo({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Eo=ee.forwardRef(jo);function No({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const So=ee.forwardRef(No);function ko({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const To=ee.forwardRef(ko);function Po({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),ee.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const Oo=ee.forwardRef(Po);function Co({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{d:"M2.25 2.25a.75.75 0 0 0 0 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 0 0-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 0 0 0-1.5H5.378A2.25 2.25 0 0 1 7.5 15h11.218a.75.75 0 0 0 .674-.421 60.358 60.358 0 0 0 2.96-7.228.75.75 0 0 0-.525-.965A60.864 60.864 0 0 0 5.68 4.509l-.232-.867A1.875 1.875 0 0 0 3.636 2.25H2.25ZM3.75 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"}))}const Ro=ee.forwardRef(Co);function Ao({title:e,titleId:t,...r},a){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?ee.createElement("title",{id:t},e):null,ee.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))}const Io=ee.forwardRef(Ao),Mo=({sidebarOpen:e,setSidebarOpen:t})=>{const r=oe(),{user:a,getRoleDashboard:n}=fa(),s=ua(a?.role_id||"");ha(a?.role_id||""),n();const[o,i]=ee.useState(["procurement"]),[l,c]=ee.useState(()=>"true"===localStorage.getItem("sidebarCollapsed")),[d,u]=ee.useState(!1);te.useEffect(()=>{const e=()=>{const e=localStorage.getItem("sidebarCollapsed");c("true"===e)};return window.addEventListener("storage",e),window.addEventListener("sidebarToggle",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("sidebarToggle",e)}},[]);const h=e=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},f=()=>{const e=!l;c(e),localStorage.setItem("sidebarCollapsed",String(e)),window.dispatchEvent(new Event("sidebarToggle"))},m=(()=>{const e=a?.role_id,t=t=>((e,t)=>`/${ca(e)}${t.startsWith("/")?t:`/${t}`}`)(e||"",t),r=[{name:"Dashboard",href:t("/dashboard"),icon:po,iconSolid:Oo,color:"text-[#243d8a]"},{name:"Procurement",href:t("/procurement"),icon:vo,iconSolid:Ro,color:"text-red-600",children:[{name:"Deliveries",href:t("/procurement/deliveries"),icon:bo,iconSolid:bo}]},{name:"Pending Actions",href:t("/tasks"),icon:oo,iconSolid:oo,color:"text-green-600"},{name:"Workflow Status",href:t("/workflow-status"),icon:eo,iconSolid:eo,color:"text-purple-600"}],n=[{name:"Projects",href:t("/projects"),icon:Eo,iconSolid:Io,color:"text-cyan-600"}],s=[{name:"Analytics",href:t("/analytics"),icon:no,iconSolid:To,color:"text-orange-600"}];let o=[...r];return a?.role_id===sa.TECHNICAL_DIRECTOR?o.splice(-1,0,...n,...s):a?.role_id===sa.PROJECT_MANAGER&&o.splice(-1,0,...n),o})(),p=e=>{const t=r.pathname.split("/").filter(Boolean),a=e.split("/").filter(Boolean);if(t.length>0&&a.length>0){const e=t.slice(1).join("/"),r=a.slice(1).join("/");return"dashboard"===r?"dashboard"===e:e.startsWith(r)}return!1},g=()=>J.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200 shadow-xl",children:[J.jsxs("div",{className:ve("border-b border-gray-100 transition-all duration-300",l?"px-2 py-3":"px-4 py-4"),children:[J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{className:ve("relative transition-all duration-300",l?"hidden":"block"),children:[J.jsx("img",{src:"https://i.postimg.cc/50f23gnF/logo.png",alt:"MeterSquare",className:"h-10 w-auto",onError:e=>{const t=e.target;t.style.display="none",t.nextElementSibling?.classList.remove("hidden")}}),J.jsx("div",{className:"hidden w-10 h-10 bg-gradient-to-br from-red-600 to-red-700 rounded-lg shadow-lg flex items-center justify-center",children:J.jsx("span",{className:"text-white font-bold text-sm",children:"M"})})]}),J.jsx("div",{className:ve("transition-all duration-300",l?"block mx-auto":"hidden"),children:J.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-red-600 to-red-700 rounded-lg shadow-md flex items-center justify-center",children:J.jsx("span",{className:"text-white font-bold text-sm",children:"M"})})}),J.jsx("button",{onClick:f,className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors duration-200",title:l?"Expand sidebar":"Collapse sidebar","aria-label":l?"Expand sidebar":"Collapse sidebar",children:l?J.jsx(fo,{className:"w-4 h-4 text-gray-600"}):J.jsx(uo,{className:"w-4 h-4 text-gray-600"})})]}),J.jsx("div",{className:ve("mt-3 h-0.5 bg-gradient-to-r from-red-400 to-red-600 rounded-full transition-all duration-300",l?"hidden":"block")})]}),J.jsxs("div",{className:ve("flex-1 flex flex-col overflow-y-auto transition-all duration-300",l?"py-2 px-1":"py-3 px-2"),children:[J.jsx("nav",{className:"flex-1 space-y-1",children:m.map((e,r)=>{const a=p(e.href),n=e.children&&e.children.length>0,s=o.includes(e.name.toLowerCase()),i=a?e.iconSolid:e.icon;return J.jsxs("div",{children:[J.jsx("div",{className:"relative",children:n?J.jsxs("div",{className:"flex items-center",children:[J.jsx(ie,{to:e.href,onClick:()=>{t(!1),o.includes(e.name.toLowerCase())||h(e.name.toLowerCase())},title:l?e.name:"",className:ve("flex-1 group flex items-center transition-all duration-200 text-xs font-medium rounded-lg",l?"px-2 py-2 justify-center":"px-2.5 py-2",a?"Procurement"===e.name?"bg-gradient-to-r from-red-50 to-red-100 text-red-900 shadow-md border border-red-200":"bg-gradient-to-r from-[#243d8a]/5 to-[#243d8a]/10 text-[#243d8a] shadow-md border border-[#243d8a]/20":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:J.jsxs("div",{className:"flex items-center",children:[J.jsx("div",{className:ve("rounded-md transition-colors duration-200",l?"p-1.5":"p-1.5 mr-2",a?"Procurement"===e.name?"bg-red-500 shadow-lg":"bg-[#243d8a] shadow-lg":"bg-gray-100 group-hover:bg-gray-200"),children:J.jsx(i,{className:ve("w-4 h-4 transition-colors duration-200",a?"text-white":e.color||"text-gray-500")})}),!l&&J.jsx("span",{className:"font-semibold",children:e.name})]})}),!l&&J.jsx("button",{onClick:()=>h(e.name.toLowerCase()),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:`Toggle ${e.name} section`,"aria-label":`Toggle ${e.name} section`,children:J.jsx(fo,{className:ve("w-4 h-4 transition-transform duration-200",s?"transform rotate-90":"",a?"text-gray-700":"text-gray-400")})})]}):J.jsxs(ie,{to:e.href,onClick:()=>t(!1),title:l?e.name:"",className:ve("group flex items-center transition-all duration-200 text-xs font-medium rounded-lg relative overflow-hidden",l?"px-2 py-2 justify-center":"px-2.5 py-2",a?"Procurement"===e.name?"bg-gradient-to-r from-red-50 to-red-100 text-red-900 shadow-md border border-red-200":"bg-gradient-to-r from-[#243d8a]/5 to-[#243d8a]/10 text-[#243d8a] shadow-md border border-[#243d8a]/20":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[a&&J.jsx("div",{className:ve("absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 rounded-r-full","Procurement"===e.name?"bg-red-500":"bg-[#243d8a]")}),J.jsx("div",{className:ve("rounded-md transition-colors duration-200",l?"p-1.5":"p-1.5 mr-2",a?"Procurement"===e.name?"bg-red-500 shadow-lg":"bg-[#243d8a] shadow-lg":"bg-gray-100 group-hover:bg-gray-200"),children:J.jsx(i,{className:ve("w-4 h-4 transition-colors duration-200",a?"text-white":e.color||"text-gray-500")})}),!l&&J.jsx("span",{className:"font-semibold",children:e.name}),J.jsx("div",{className:ve("absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl","Procurement"===e.name?"bg-gradient-to-r from-red-500/5 to-red-500/10":"bg-gradient-to-r from-[#243d8a]/5 to-[#243d8a]/10")})]})}),J.jsx(Se,{children:n&&s&&!l&&J.jsx(Ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"ml-6 mt-2 space-y-1 border-l-2 border-red-100 pl-3",children:e.children?.map(e=>{const r=p(e.href),a=r?e.iconSolid:e.icon;return J.jsxs(ie,{to:e.href,onClick:()=>t(!1),className:ve("group flex items-center px-3 py-2 text-xs font-medium rounded-lg transition-all duration-200 relative",r?"bg-gradient-to-r from-red-50 to-red-100 text-red-800 border border-red-200 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"),children:[r&&J.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-0.5 h-4 bg-red-500 rounded-r-full"}),J.jsx(a,{className:ve("w-4 h-4 mr-3 transition-colors duration-200 flex-shrink-0",r?"text-red-600":"text-gray-400 group-hover:text-gray-600")}),J.jsx("span",{className:"truncate",children:e.name}),J.jsx("div",{className:ve("absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg","bg-gradient-to-r from-red-500/5 to-red-500/10")})]},e.name)})})})]},e.name)})}),a&&J.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:J.jsxs("div",{className:"relative",children:[J.jsx("button",{onClick:()=>u(!d),className:"w-full bg-gradient-to-r from-gray-50 to-[#243d8a]/5 rounded-lg p-3 border border-gray-200 hover:border-[#243d8a]/30 transition-all duration-200",children:J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{className:"flex items-center space-x-3",children:[J.jsxs("div",{className:"relative",children:[J.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#243d8a] to-[#243d8a] flex items-center justify-center shadow-md",children:J.jsx("span",{className:"text-white font-bold text-xs",children:a.full_name.split(" ")[0].charAt(0).toUpperCase()})}),J.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),J.jsxs("div",{className:"min-w-0 flex-1 text-left",children:[J.jsx("p",{className:"text-xs font-semibold text-gray-900 truncate",children:a.full_name.split(" ").slice(0,-1).join(" ")||a.full_name}),J.jsx("p",{className:"text-[10px] text-gray-600 truncate",children:s})]})]}),!l&&J.jsx(lo,{className:ve("w-4 h-4 text-gray-400 transition-transform duration-200",d?"transform rotate-180":"")})]})}),J.jsx(Se,{children:d&&J.jsxs(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute bottom-full mb-2 left-0 right-0 bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden z-50",children:[J.jsxs(ie,{to:"/profile",onClick:()=>{u(!1),t(!1)},className:"flex items-center px-4 py-3 text-xs font-medium text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[J.jsx(wo,{className:"w-4 h-4 text-gray-500 mr-3"}),J.jsx("span",{children:"Profile Settings"})]}),J.jsxs("button",{onClick:()=>{const{logout:e}=fa.getState();e()},className:"w-full flex items-center px-4 py-3 text-xs font-medium text-gray-700 hover:bg-red-50 hover:text-red-700 transition-colors duration-200 border-t border-gray-100",children:[J.jsx(ro,{className:"w-4 h-4 text-gray-500 mr-3"}),J.jsx("span",{children:"Sign Out"})]})]})})]})}),J.jsxs("div",{className:"mt-4 px-4 text-center",children:[J.jsx("p",{className:"text-xs text-gray-400",children:"Version 1.0.0"}),J.jsx("div",{className:"mt-2 w-full h-0.5 bg-gradient-to-r from-transparent via-[#243d8a]/30 to-transparent"})]})]})]});return J.jsxs(J.Fragment,{children:[J.jsx(Zs.Root,{show:e,as:ee.Fragment,children:J.jsxs(Ls,{as:"div",className:"relative z-50 md:hidden",onClose:t,children:[J.jsx(Zs.Child,{as:ee.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:J.jsx("div",{className:"fixed inset-0 bg-gray-600/75 backdrop-blur-sm"})}),J.jsxs("div",{className:"fixed inset-0 flex z-50",children:[J.jsx(Zs.Child,{as:ee.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:J.jsxs(Ls.Panel,{className:"relative flex-1 flex flex-col max-w-xs w-full shadow-2xl",children:[J.jsx(Zs.Child,{as:ee.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:J.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:J.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white bg-white/10 backdrop-blur-sm",onClick:()=>t(!1),children:[J.jsx("span",{className:"sr-only",children:"Close sidebar"}),J.jsx(So,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),J.jsx(g,{})]})}),J.jsx("div",{className:"flex-shrink-0 w-14"})]})]})}),J.jsx("div",{className:ve("hidden md:flex md:flex-col md:fixed md:inset-y-0 z-40 transition-all duration-300",l?"md:w-16":"md:w-56"),children:J.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:J.jsx(g,{})})})]})},Lo=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,_o=ve,Do=(e,t)=>r=>{var a;if(null==(null==t?void 0:t.variants))return _o(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:n,defaultVariants:s}=t,o=Object.keys(n).map(e=>{const t=null==r?void 0:r[e],a=null==s?void 0:s[e];if(null===t)return null;const o=Lo(t)||Lo(a);return n[e][o]}),i=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{}),l=null==t||null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...i}[t]):{...s,...i}[t]===r})?[...e,r,a]:e},[]);return _o(e,o,l,null==r?void 0:r.class,null==r?void 0:r.className)},Fo=Do("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ho=ee.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},s)=>{const o=a?Z:"button";return J.jsx(o,{className:Ta(Fo({variant:t,size:r,className:e})),ref:s,...n})});Ho.displayName="Button";const Uo=Do("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Bo({className:e,variant:t,...r}){return J.jsx("div",{className:Ta(Uo({variant:t}),e),...r})}const Wo=({position:e="top-right",maxNotifications:t=5})=>{const[r,a]=ee.useState([]),[n,s]=ee.useState(!1),[o,i]=ee.useState("all"),[l,c]=ee.useState("all"),[d,u]=ee.useState([]),h=ee.useRef(null),f=ee.useRef(null);ee.useEffect(()=>{const e=e=>{n&&h.current&&f.current&&!h.current.contains(e.target)&&!f.current.contains(e.target)&&s(!1)};return n&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]),ee.useEffect(()=>{},[]);const m=e=>{switch(e){case"approval":return J.jsx($e,{className:"w-5 h-5"});case"alert":return J.jsx(ct,{className:"w-5 h-5"});case"success":return J.jsx(qe,{className:"w-5 h-5"});case"error":return J.jsx(lt,{className:"w-5 h-5"});case"info":return J.jsx(it,{className:"w-5 h-5"});case"update":return J.jsx(Le,{className:"w-5 h-5"});case"reminder":return J.jsx(ot,{className:"w-5 h-5"});default:return J.jsx(et,{className:"w-5 h-5"})}},p=e=>{switch(e){case"approval":return"text-[#243d8a] bg-[#243d8a]/10";case"alert":return"text-amber-600 bg-amber-100";case"success":return"text-green-600 bg-green-100";case"error":return"text-red-600 bg-red-100";case"info":default:return"text-gray-600 bg-gray-100";case"update":return"text-purple-600 bg-purple-100";case"reminder":return"text-indigo-600 bg-indigo-100"}},g=e=>{switch(e){case"urgent":return"bg-red-100 text-red-700 border-red-300";case"high":return"bg-orange-100 text-orange-700 border-orange-300";case"medium":return"bg-[#243d8a]/10 text-[#243d8a]/90 border-[#243d8a]/30";default:return"bg-gray-100 text-gray-600 border-gray-300"}},v=r.filter(e=>("unread"!==o||!e.read)&&(("urgent"!==o||"urgent"===e.priority)&&("all"===l||e.category===l))),x=r.filter(e=>!e.read).length,b=r.filter(e=>"urgent"===e.priority&&!e.read).length,y=e=>{const t=(new Date).getTime()-e.getTime(),r=Math.floor(t/6e4),a=Math.floor(t/36e5),n=Math.floor(t/864e5);return r<60?`${r} min ago`:a<24?`${a} hour${a>1?"s":""} ago`:`${n} day${n>1?"s":""} ago`};return J.jsxs(J.Fragment,{children:[J.jsx("div",{className:"relative",children:J.jsxs(Ho,{ref:f,variant:"outline",size:"icon",onClick:()=>s(!n),className:"relative",children:[J.jsx(et,{className:"w-4 h-4"}),x>0&&J.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:x}),b>0&&J.jsx("span",{className:"absolute -top-1 -left-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})}),J.jsx(Se,{children:n&&J.jsxs(Ne.div,{ref:h,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 top-full mt-2 w-[420px] max-h-[600px] bg-white rounded-lg shadow-xl border z-50 overflow-hidden",children:[J.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border-b border-red-200 p-3",children:[J.jsxs("div",{className:"flex items-center justify-between mb-2",children:[J.jsxs("h3",{className:"font-semibold text-base flex items-center gap-2 text-gray-800",children:[J.jsx(et,{className:"w-4 h-4 text-red-600"}),"Notifications"]}),J.jsx(Ho,{variant:"ghost",size:"sm",onClick:()=>s(!1),className:"text-gray-600 hover:bg-red-100",children:J.jsx(tt,{className:"w-4 h-4"})})]}),J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsxs(Bo,{className:"bg-red-100 text-red-700 border-red-300",children:[x," unread"]}),b>0&&J.jsxs(Bo,{className:"bg-orange-100 text-orange-700 border-orange-300",children:[b," urgent"]})]}),J.jsx(Ho,{variant:"ghost",size:"sm",onClick:()=>{a(r.map(e=>({...e,read:!0})))},className:"text-xs px-2 text-red-600 hover:bg-red-100",children:"Mark all read"})]})]}),J.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:0===v.length?J.jsxs("div",{className:"p-8 text-center",children:[J.jsx(et,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),J.jsx("p",{className:"text-gray-500",children:"No notifications"})]}):J.jsx("div",{className:"divide-y",children:v.map(e=>J.jsx(Ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-3 hover:bg-gray-50 transition-colors "+(e.read?"":"bg-[#243d8a]/5/30"),children:J.jsxs("div",{className:"flex items-start gap-3",children:[J.jsx("div",{className:`p-1.5 rounded-md ${p(e.type)}`,children:m(e.type)}),J.jsxs("div",{className:"flex-1 min-w-0",children:[J.jsx("h4",{className:"font-medium text-sm text-gray-900 mb-1",children:e.title}),J.jsx("p",{className:"text-xs text-gray-600 mb-2",children:e.message}),e.metadata&&J.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[e.metadata.project&&J.jsxs(Bo,{variant:"outline",className:"text-[10px] px-1.5 py-0.5",children:[J.jsx(Fe,{className:"w-3 h-3 mr-1"}),e.metadata.project]}),e.metadata.amount&&J.jsxs(Bo,{variant:"outline",className:"text-[10px] px-1.5 py-0.5",children:[J.jsx(rt,{className:"w-3 h-3 mr-1"}),"AED ",e.metadata.amount.toLocaleString()]})]}),J.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[J.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[J.jsx("span",{className:"text-xs text-gray-400",children:y(e.timestamp)}),e.metadata?.sender&&J.jsxs("span",{className:"text-xs text-gray-500",children:[J.jsx(Ke,{className:"w-3 h-3 inline mr-1"}),e.metadata.sender]})]}),J.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[J.jsx(Bo,{className:`text-[10px] px-1.5 py-0.5 ${g(e.priority)} border`,children:e.priority}),e.actionRequired&&J.jsxs(Ho,{size:"sm",className:"h-6 px-2 text-[11px]",children:[e.actionLabel||"Action",J.jsx(at,{className:"w-3 h-3 ml-0.5"})]}),!e.read&&J.jsx(Ho,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void a(r.map(e=>e.id===t?{...e,read:!0}:e));var t},className:"h-6 w-6 p-0",title:"Mark as read",children:J.jsx(nt,{className:"w-3 h-3"})}),J.jsx(Ho,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void a(r.filter(e=>e.id!==t));var t},className:"h-6 w-6 p-0 text-gray-400 hover:text-red-600",title:"Delete",children:J.jsx(tt,{className:"w-3 h-3"})})]})]})]})]})},e.id))})}),J.jsx("div",{className:"p-3 border-t bg-gray-50",children:J.jsxs("div",{className:"flex items-center justify-between gap-2",children:[J.jsxs(Ho,{variant:"ghost",size:"sm",className:"text-xs px-2 py-1",children:[J.jsx(Be,{className:"w-3 h-3 mr-1"}),"Settings"]}),J.jsxs(Ho,{variant:"ghost",size:"sm",onClick:()=>{a([])},className:"text-xs text-red-600 hover:text-red-700 px-2 py-1",children:[J.jsx(st,{className:"w-3 h-3 mr-1"}),"Clear All"]})]})})]})}),J.jsx("div",{className:`fixed ${{"top-right":"top-4 right-4","top-left":"top-4 left-4","bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4"}[e]} z-50 space-y-2`,children:J.jsx(Se,{children:d.map(t=>J.jsx(Ne.div,{initial:{opacity:0,x:e.includes("right")?100:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:e.includes("right")?100:-100},className:"bg-white rounded-lg shadow-lg border p-4 w-80",children:J.jsxs("div",{className:"flex items-start gap-3",children:[J.jsx("div",{className:`p-2 rounded-lg ${p(t.type)}`,children:m(t.type)}),J.jsxs("div",{className:"flex-1",children:[J.jsx("h4",{className:"font-medium text-sm text-gray-900",children:t.title}),J.jsx("p",{className:"text-xs text-gray-600 mt-1",children:t.message})]}),J.jsx(Ho,{variant:"ghost",size:"sm",onClick:()=>u(e=>e.filter(e=>e.id!==t.id)),className:"h-6 w-6 p-0",children:J.jsx(tt,{className:"w-3 h-3"})})]})},t.id))})})]})},Vo=({onClick:e})=>J.jsx("button",{onClick:e,className:"fixed top-4 left-4 z-40 p-2 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow md:hidden","aria-label":"Open menu",children:J.jsx(dt,{className:"w-6 h-6 text-gray-700"})}),qo=()=>{const[e,t]=ee.useState(!1),[r,a]=ee.useState(()=>"true"===localStorage.getItem("sidebarCollapsed")),{user:n}=fa(),s=oe();return ee.useEffect(()=>{const e=n?.role_id?ua(String(n.role_id)):"User",t=(()=>{const e=s.pathname;switch(e){case"/dashboard":return"Dashboard";case"/procurement":return"Procurement";case"/tasks":return"Tasks";case"/process-flow":return"Process Flow";case"/analytics":return"Analytics";case"/profile":return"Profile";default:return e.startsWith("/procurement")?"Procurement":"MeterSquare ERP"}})();document.title=`[${e}] ${t} - MeterSquare ERP`},[n,s]),ee.useEffect(()=>{const e=()=>{const e=localStorage.getItem("sidebarCollapsed");a("true"===e)};return window.addEventListener("storage",e),window.addEventListener("sidebarToggle",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("sidebarToggle",e)}},[]),J.jsxs("div",{className:"h-screen flex overflow-hidden bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[J.jsx(Vo,{onClick:()=>t(!0)}),J.jsx(Mo,{sidebarOpen:e,setSidebarOpen:t}),J.jsx("div",{className:"flex-1 overflow-hidden flex flex-col transition-all duration-300 "+(r?"md:pl-16":"md:pl-56"),children:J.jsx("main",{className:"flex-1 relative overflow-y-auto overflow-x-hidden focus:outline-none bg-gradient-to-br from-gray-50/50 to-white",children:J.jsx("div",{className:"min-h-full w-full",children:J.jsx(le,{})})})}),J.jsx("div",{className:"fixed top-6 right-4 z-[100]",children:J.jsx(Wo,{})})]})},zo=({children:e})=>{const{user:t,isAuthenticated:r,isLoading:a,getRoleDashboard:n}=fa(),s=oe();if(a)return J.jsx("div",{className:"min-h-screen flex items-center justify-center",children:J.jsx(ka,{variant:"pulse-wave",size:"lg"})});if(!r||!t)return J.jsx(ce,{to:"/login",state:{from:s},replace:!0});if("/"===s.pathname){const e=n();return J.jsx(ce,{to:e,replace:!0})}return J.jsx(J.Fragment,{children:e})},$o=()=>J.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:J.jsxs("div",{className:"text-center",children:[J.jsx(ka,{variant:"pulse-wave",size:"lg"}),J.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:"Loading..."})]})}),Yo=ee.lazy(()=>fe(()=>import("./TasksPage-70d3f1ab.js"),["assets/js/TasksPage-70d3f1ab.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/ui-vendor-42d562f2.js","assets/js/icons-2fde7931.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),Go=ee.lazy(()=>fe(()=>import("./ProjectsPage-d6fd0298.js"),["assets/js/ProjectsPage-d6fd0298.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/dateFormatter-3b370b4b.js","assets/js/card-e62b6216.js","assets/js/input-dbd0a11e.js","assets/js/date-input-8a4c9816.js","assets/js/icons-2fde7931.js","assets/js/progress-c4fdb9d3.js","assets/js/select-767f455e.js","assets/js/dialog-d443819a.js","assets/js/label-d100d551.js","assets/js/ui-vendor-42d562f2.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),Qo=ee.lazy(()=>fe(()=>import("./ProcessFlowPage-54cc7352.js"),["assets/js/ProcessFlowPage-54cc7352.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/tabs-8d248749.js","assets/js/select-767f455e.js","assets/js/icons-2fde7931.js","assets/js/ui-vendor-42d562f2.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),Ko=ee.lazy(()=>fe(()=>import("./ProfilePage-a3fc62ba.js"),["assets/js/ProfilePage-a3fc62ba.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/input-dbd0a11e.js","assets/js/label-d100d551.js","assets/js/tabs-8d248749.js","assets/js/ui-vendor-42d562f2.js","assets/js/icons-2fde7931.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),Jo=ee.lazy(()=>fe(()=>import("./AnalyticsPage-70bd0808.js"),["assets/js/AnalyticsPage-70bd0808.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/dateFormatter-3b370b4b.js","assets/js/card-e62b6216.js","assets/js/select-767f455e.js","assets/js/icons-2fde7931.js","assets/js/tabs-8d248749.js","assets/js/ui-vendor-42d562f2.js","assets/js/charts-4816d993.js","assets/js/utils-8e4480a0.js","assets/js/auth-f9290e45.js","assets/js/forms-337f692b.js"])),Zo=ee.lazy(()=>fe(()=>import("./WorkflowStatusPage-f6aa2927.js"),["assets/js/WorkflowStatusPage-f6aa2927.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/progress-c4fdb9d3.js","assets/js/ui-vendor-42d562f2.js","assets/js/icons-2fde7931.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),Xo=ee.lazy(()=>fe(()=>import("./CreativeErrorPage-8242b528.js"),["assets/js/CreativeErrorPage-8242b528.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/ui-vendor-42d562f2.js"])),ei=ee.lazy(()=>fe(()=>import("./ProcurementHub-9b430568.js"),["assets/js/ProcurementHub-9b430568.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/separator-a0f6b9f9.js","assets/js/ui-vendor-42d562f2.js","assets/js/icons-2fde7931.js","assets/js/dialog-d443819a.js","assets/js/tabs-8d248749.js","assets/js/input-dbd0a11e.js","assets/js/textarea-ff7bd289.js","assets/js/label-d100d551.js","assets/js/select-767f455e.js","assets/js/auth-f9290e45.js","assets/js/export-utils-ef0ca69a.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),ti=ee.lazy(()=>fe(()=>import("./DeliveriesPage-e22ea5bc.js"),["assets/js/DeliveriesPage-e22ea5bc.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/dateFormatter-3b370b4b.js","assets/js/tabs-8d248749.js","assets/js/ui-vendor-42d562f2.js","assets/js/icons-2fde7931.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),ri=ee.lazy(()=>fe(()=>import("./ProjectManagerHub-7f468f09.js"),["assets/js/ProjectManagerHub-7f468f09.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/tabs-8d248749.js","assets/js/input-dbd0a11e.js","assets/js/alert-409df19c.js","assets/js/card-e62b6216.js","assets/js/select-767f455e.js","assets/js/icons-2fde7931.js","assets/js/PurchaseApprovalCard-09fd0945.js","assets/js/textarea-ff7bd289.js","assets/js/dialog-d443819a.js","assets/js/label-d100d551.js","assets/js/ui-vendor-42d562f2.js","assets/js/PurchaseDetailsModal-bb395d44.js","assets/js/projectManagerService-fd1f363b.js","assets/js/dateFormatter-3b370b4b.js","assets/js/confirmation-dialog-0228c1b8.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),ai=ee.lazy(()=>fe(()=>import("./PurchaseApprovalsPage-1da51c7a.js"),["assets/js/PurchaseApprovalsPage-1da51c7a.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/PurchaseDetailsModal-bb395d44.js","assets/js/dialog-d443819a.js","assets/js/icons-2fde7931.js","assets/js/tabs-8d248749.js","assets/js/projectManagerService-fd1f363b.js","assets/js/dateFormatter-3b370b4b.js","assets/js/ui-vendor-42d562f2.js","assets/js/ApprovalModal-b4443bb7.js","assets/js/label-d100d551.js","assets/js/textarea-ff7bd289.js","assets/js/radio-group-188286ff.js","assets/js/alert-409df19c.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),ni=ee.lazy(()=>fe(()=>import("./EstimationHub-7c55ef4f.js"),["assets/js/EstimationHub-7c55ef4f.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/tabs-8d248749.js","assets/js/input-dbd0a11e.js","assets/js/card-e62b6216.js","assets/js/select-767f455e.js","assets/js/icons-2fde7931.js","assets/js/estimationService-c5e68334.js","assets/js/ui-vendor-42d562f2.js","assets/js/dialog-d443819a.js","assets/js/textarea-ff7bd289.js","assets/js/radio-group-188286ff.js","assets/js/label-d100d551.js","assets/js/alert-409df19c.js","assets/js/dateFormatter-3b370b4b.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),si=ee.lazy(()=>fe(()=>import("./TechnicalDirectorHub-0c2e9255.js"),["assets/js/TechnicalDirectorHub-0c2e9255.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/tabs-8d248749.js","assets/js/input-dbd0a11e.js","assets/js/card-e62b6216.js","assets/js/select-767f455e.js","assets/js/icons-2fde7931.js","assets/js/separator-a0f6b9f9.js","assets/js/ui-vendor-42d562f2.js","assets/js/dialog-d443819a.js","assets/js/textarea-ff7bd289.js","assets/js/label-d100d551.js","assets/js/alert-409df19c.js","assets/js/technicalDirectorService-7b18d54a.js","assets/js/dateFormatter-3b370b4b.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),oi=ee.lazy(()=>fe(()=>import("./SiteSupervisorHub-e5a999b5.js"),["assets/js/SiteSupervisorHub-e5a999b5.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/input-dbd0a11e.js","assets/js/tabs-8d248749.js","assets/js/dialog-d443819a.js","assets/js/icons-2fde7931.js","assets/js/select-767f455e.js","assets/js/confirmation-dialog-0228c1b8.js","assets/js/ui-vendor-42d562f2.js","assets/js/utils-8e4480a0.js","assets/js/dateFormatter-3b370b4b.js","assets/js/forms-337f692b.js","assets/js/date-input-8a4c9816.js","assets/js/label-d100d551.js","assets/js/auth-f9290e45.js"])),ii=ee.lazy(()=>fe(()=>import("./AccountsHub-e7fa4586.js"),["assets/js/AccountsHub-e7fa4586.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/tabs-8d248749.js","assets/js/input-dbd0a11e.js","assets/js/card-e62b6216.js","assets/js/select-767f455e.js","assets/js/icons-2fde7931.js","assets/js/label-d100d551.js","assets/js/separator-a0f6b9f9.js","assets/js/dialog-d443819a.js","assets/js/textarea-ff7bd289.js","assets/js/progress-c4fdb9d3.js","assets/js/ui-vendor-42d562f2.js","assets/js/dateFormatter-3b370b4b.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js"])),li=ee.lazy(()=>fe(()=>import("./MaterialDispatchProductionPage-53a564dd.js"),["assets/js/MaterialDispatchProductionPage-53a564dd.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/tabs-8d248749.js","assets/js/ApprovalWorkflow-1ba72061.js","assets/js/label-d100d551.js","assets/js/icons-2fde7931.js","assets/js/ui-vendor-42d562f2.js","assets/js/forms-337f692b.js","assets/js/input-dbd0a11e.js","assets/js/date-input-8a4c9816.js","assets/js/dateFormatter-3b370b4b.js","assets/js/select-767f455e.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js"])),ci=ee.lazy(()=>fe(()=>import("./MaterialDispatchSitePage-5364f54e.js"),["assets/js/MaterialDispatchSitePage-5364f54e.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/card-e62b6216.js","assets/js/tabs-8d248749.js","assets/js/ApprovalWorkflow-1ba72061.js","assets/js/label-d100d551.js","assets/js/icons-2fde7931.js","assets/js/ui-vendor-42d562f2.js","assets/js/forms-337f692b.js","assets/js/input-dbd0a11e.js","assets/js/date-input-8a4c9816.js","assets/js/dateFormatter-3b370b4b.js","assets/js/select-767f455e.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js"])),di=ee.lazy(()=>fe(()=>import("./RoleRouteWrapper-8591e5e2.js"),["assets/js/RoleRouteWrapper-8591e5e2.js","assets/js/radix-ui-34961435.js","assets/js/react-vendor-3707ac94.js","assets/js/auth-f9290e45.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js","assets/js/ui-vendor-42d562f2.js","assets/js/icons-2fde7931.js"])),ui=ee.lazy(()=>fe(()=>import("./RoleDashboard-a103681f.js"),["assets/js/RoleDashboard-a103681f.js","assets/js/auth-f9290e45.js","assets/js/react-vendor-3707ac94.js","assets/js/radix-ui-34961435.js","assets/js/utils-8e4480a0.js","assets/js/forms-337f692b.js","assets/js/ui-vendor-42d562f2.js","assets/js/icons-2fde7931.js"])),hi=()=>{const{user:e}=fa(),t=e?.role||"",r=t.toLowerCase();return"project manager"===r||"project_manager"===r||"projectmanager"===r?J.jsx(ri,{}):"estimation"===r?J.jsx(ni,{}):"technicalDirector"===t||"technical director"===r||"technical_director"===r||"technicaldirector"===r?J.jsx(si,{}):"siteSupervisor"===t||"site supervisor"===r||"site_supervisor"===r||"sitesupervisor"===r?J.jsx(oi,{}):"accounts"===r||"account"===r?J.jsx(ii,{}):J.jsx(ei,{})},fi=({children:e})=>{const{isAuthenticated:t,getCurrentUser:r,user:a}=fa(),n=localStorage.getItem("access_token");return ee.useEffect(()=>{!n||t||a||r().catch(()=>{})},[n,t,a,r]),n?J.jsx(J.Fragment,{children:e}):J.jsx(ce,{to:"/login",replace:!0})},mi=({children:e})=>{const{isAuthenticated:t,getRoleDashboard:r}=fa(),a=localStorage.getItem("access_token");if(t&&a){const e=r();return J.jsx(ce,{to:e,replace:!0})}return J.jsx(J.Fragment,{children:e})};function pi(){const{getCurrentUser:e,isAuthenticated:t,logout:r,user:a}=fa(),[n,s]=ee.useState(null),[o,i]=ee.useState(!0);return ee.useEffect(()=>{if(t&&a){const t=(e=a?.role||"",void(ta&&(Na(),ya(),wa(),ja(),e&&Ea(e))));return()=>{t()}}var e},[t,a]),ee.useEffect(()=>{window.addEventListener("focus",()=>{const e=localStorage.getItem("user"),t=localStorage.getItem("auth-storage");if(e&&t)try{const r=JSON.parse(e),a=JSON.parse(t);a.state?.user?.role_id!==r.role_id&&(ga(),window.location.reload())}catch(gn){ga()}});(async()=>{try{const a=new Promise(e=>setTimeout(()=>e({success:!0}),500)),n=Zr(),o=await Promise.race([n,a]),{success:i}=o;if(s(i),i){localStorage.getItem("access_token")&&!t&&e().catch(()=>{r()})}}catch(a){s(!0)}finally{i(!1)}})()},[]),o?null:!1===n?J.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:J.jsxs("div",{className:"max-w-md mx-auto text-center p-6 bg-white rounded-lg shadow-lg",children:[J.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),J.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configuration Error"}),J.jsx("p",{className:"text-gray-600 mb-6",children:"The application cannot start due to missing or invalid environment configuration."}),J.jsxs("div",{className:"text-left bg-gray-100 p-4 rounded text-sm",children:[J.jsx("p",{className:"font-semibold mb-2",children:"To fix this issue:"}),J.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[J.jsxs("li",{children:["Create a ",J.jsx("code",{className:"bg-gray-200 px-1 rounded",children:".env"})," file in the frontend directory"]}),J.jsxs("li",{children:["Add your Supabase credentials (see ",J.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"env.example"}),")"]}),J.jsx("li",{children:"Restart the development server"})]})]}),J.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#243d8a] text-white rounded hover:bg-[#243d8a]",children:"Retry"})]})}):J.jsx(er,{client:va,children:J.jsxs("div",{className:"App",children:[J.jsx(yr,{position:"top-right",richColors:!0,toastOptions:{style:{marginTop:"80px",marginRight:"16px"}}}),J.jsx(ee.Suspense,{fallback:J.jsx($o,{}),children:J.jsxs(de,{children:[J.jsx(ue,{path:"/login",element:J.jsx(mi,{children:J.jsx(Aa,{})})}),J.jsx(ue,{path:"/",element:J.jsx(fi,{children:J.jsx(zo,{})})}),J.jsx(ue,{path:"/:role",element:J.jsx(fi,{children:J.jsx(di,{})}),children:J.jsxs(ue,{element:J.jsx(qo,{}),children:[J.jsx(ue,{index:!0,element:J.jsx(ce,{to:"dashboard",replace:!0})}),J.jsx(ue,{path:"dashboard",element:J.jsx(ui,{})}),J.jsx(ue,{path:"procurement",element:J.jsx(hi,{})}),J.jsx(ue,{path:"procurement/deliveries",element:J.jsx(ti,{})}),J.jsx(ue,{path:"procurement/deliveries/edit/:id",element:J.jsx(ti,{})}),J.jsx(ue,{path:"purchase/:purchaseId",element:J.jsx(ai,{})}),J.jsx(ue,{path:"site-supervisor",element:J.jsx(oi,{})}),J.jsx(ue,{path:"tasks",element:J.jsx(Yo,{})}),J.jsx(ue,{path:"projects",element:J.jsx(Go,{})}),J.jsx(ue,{path:"projects/:id",element:J.jsx(Go,{})}),J.jsx(ue,{path:"projects/:id/edit",element:J.jsx(Go,{})}),J.jsx(ue,{path:"process-flow",element:J.jsx(Qo,{})}),J.jsx(ue,{path:"workflow-status",element:J.jsx(Zo,{})}),J.jsx(ue,{path:"workflows/material-dispatch-production",element:J.jsx(li,{})}),J.jsx(ue,{path:"workflows/material-dispatch-site",element:J.jsx(ci,{})}),J.jsx(ue,{path:"analytics",element:J.jsx(Jo,{})}),J.jsx(ue,{path:"profile",element:J.jsx(Ko,{})})]})}),J.jsx(ue,{path:"/404",element:J.jsx(Xo,{variant:"liquid-motion",errorCode:"404",errorTitle:"Page Not Found",errorMessage:"The page you're looking for doesn't exist or has been moved."})}),J.jsx(ue,{path:"/403",element:J.jsx(Xo,{variant:"liquid-motion",errorCode:"403",errorTitle:"Access Denied",errorMessage:"You don't have permission to access this resource."})}),J.jsx(ue,{path:"/500",element:J.jsx(Xo,{variant:"liquid-motion",errorCode:"500",errorTitle:"Server Error",errorMessage:"Something went wrong on our end. Please try again later.",onRefresh:()=>window.location.reload()})}),J.jsx(ue,{path:"*",element:J.jsx(Xo,{variant:"liquid-motion",errorCode:"404",errorTitle:"Page Not Found",errorMessage:"The page you're looking for doesn't exist or has been moved."})})]})})]})})}class gi extends ee.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:J.jsxs("div",{className:"bg-red-50 border-2 border-red-500 rounded-lg p-6 m-4",children:[J.jsx("h2",{className:"text-red-700 font-bold text-xl mb-3",children:" Component Error"}),J.jsx("div",{className:"bg-white rounded p-4 mb-3",children:J.jsx("p",{className:"text-red-600 font-mono text-sm",children:this.state.error?.message||"Unknown error"})}),J.jsxs("details",{className:"cursor-pointer",children:[J.jsx("summary",{className:"text-gray-700 font-semibold mb-2",children:"View Stack Trace"}),J.jsx("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-auto max-h-64",children:this.state.error?.stack}),this.state.errorInfo&&J.jsxs("div",{className:"mt-3",children:[J.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:"Component Stack:"}),J.jsx("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-auto max-h-64",children:this.state.errorInfo.componentStack})]})]}),J.jsx("div",{className:"mt-4",children:J.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Environment: ","production"," | Build: ","Production"]})}),J.jsxs("div",{className:"mt-4 flex gap-2",children:[J.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reload Page"}),J.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0}),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Try Again"})]})]}):this.props.children}}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{}).catch(e=>{})});const vi=!!localStorage.getItem("access_token");if(vi){const e=document.getElementById("initial-loader");e&&(e.style.display="none")}ut.createRoot(document.getElementById("root")).render(J.jsx(gi,{children:J.jsx(he,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:J.jsx(pi,{})})})),vi||(()=>{const e=document.getElementById("initial-loader");e&&(e.classList.add("fade-out"),setTimeout(()=>{e.style.display="none"},300))})();export{ea as A,Ho as B,ka as M,sa as U,Bo as a,ra as b,aa as c,Ta as d,la as e,Do as f,ca as g,ha as h,ua as i,hr as t,fa as u};
