import{j as e}from"./radix-ui-34961435.js";import{r as s}from"./react-vendor-3707ac94.js";import{C as a,b as r,c as t,a as l}from"./card-e62b6216.js";import{u as i,a as d,B as c}from"./index-12cad093.js";import{I as n}from"./input-dbd0a11e.js";import{L as o}from"./label-d100d551.js";import{T as m,a as x,b as g,c as h}from"./tabs-8d248749.js";import{m as p}from"./ui-vendor-42d562f2.js";import{a1 as j,m as u,V as y,a2 as b,X as N,U as f,l as v,p as w,u as C,M as S,a3 as _,Q as k,a4 as P,a5 as A,s as E}from"./icons-2fde7931.js";import"./auth-f9290e45.js";import"./utils-8e4480a0.js";import"./forms-337f692b.js";const R=()=>{const{user:R,logout:U}=i(),[q,V]=s.useState(!1),[F,I]=s.useState("profile"),[L,M]=s.useState({full_name:R?.full_name||"",email:R?.email||"",phone:R?.phone||"",department:R?.department||"",address:R?.address||"",bio:R?.bio||""});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(p.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl shadow-xl p-6 text-gray-800 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[R?.avatar_url?e.jsx("img",{className:"h-16 w-16 rounded-full object-cover border-4 border-white shadow-lg",src:R.avatar_url,alt:R.full_name}):e.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-[#243d8a] via-purple-500 to-pink-500 flex items-center justify-center border-4 border-white shadow-lg",children:e.jsx("span",{className:"text-xl font-bold text-white",children:R?.full_name.charAt(0).toUpperCase()})}),e.jsx("button",{className:"absolute -bottom-1 -right-1 p-2 bg-white rounded-full shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors","aria-label":"Change profile picture",title:"Change profile picture",children:e.jsx(j,{className:"w-3 h-3 text-gray-600"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:R?.full_name}),e.jsx("p",{className:"text-gray-600",children:R?.email}),e.jsxs(d,{className:"mt-1 bg-[#243d8a]/10 text-[#243d8a]/90 border-[#243d8a]/30",children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),(T=R?.role_id||"",T.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()))]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:q?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{onClick:()=>{V(!1)},className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Save"]}),e.jsxs(c,{onClick:()=>{M({full_name:R?.full_name||"",email:R?.email||"",phone:R?.phone||"",department:R?.department||"",address:R?.address||"",bio:R?.bio||""}),V(!1)},variant:"outline",className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs(c,{onClick:()=>V(!0),className:"bg-[#243d8a] hover:bg-[#243d8a]/90 text-white flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Edit Profile"]})})]})}),e.jsxs(m,{value:F,onValueChange:I,className:"space-y-6",children:[e.jsxs(x,{className:"grid grid-cols-4 w-full max-w-2xl bg-white shadow-sm border",children:[e.jsxs(g,{value:"profile",className:"data-[state=active]:bg-gray-50",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Profile"]}),e.jsxs(g,{value:"security",className:"data-[state=active]:bg-gray-50",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Security"]}),e.jsxs(g,{value:"preferences",className:"data-[state=active]:bg-gray-50",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Preferences"]}),e.jsxs(g,{value:"activity",className:"data-[state=active]:bg-gray-50",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Activity"]})]}),e.jsx(h,{value:"profile",children:e.jsxs(a,{className:"shadow-lg border-0",children:[e.jsx(r,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-gray-600"}),"Personal Information"]})}),e.jsxs(l,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(f,{className:"w-4 h-4 text-gray-500"}),"Full Name"]}),q?e.jsx(n,{value:L.full_name,onChange:e=>M({...L,full_name:e.target.value}),className:"h-11 border-gray-200 focus:border-gray-500"}):e.jsx("p",{className:"text-gray-900 font-medium p-3 bg-gray-50 rounded-lg",children:R?.full_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(S,{className:"w-4 h-4 text-gray-500"}),"Email Address"]}),q?e.jsx(n,{value:L.email,onChange:e=>M({...L,email:e.target.value}),className:"h-11 border-gray-200 focus:border-gray-500"}):e.jsx("p",{className:"text-gray-900 font-medium p-3 bg-gray-50 rounded-lg",children:R?.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(_,{className:"w-4 h-4 text-gray-500"}),"Phone Number"]}),q?e.jsx(n,{value:L.phone,onChange:e=>M({...L,phone:e.target.value}),placeholder:"Enter phone number",className:"h-11 border-gray-200 focus:border-gray-500"}):e.jsx("p",{className:"text-gray-900 font-medium p-3 bg-gray-50 rounded-lg",children:R?.phone||"Not provided"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(u,{className:"w-4 h-4 text-gray-500"}),"Department"]}),q?e.jsx(n,{value:L.department,onChange:e=>M({...L,department:e.target.value}),placeholder:"Enter department",className:"h-11 border-gray-200 focus:border-gray-500"}):e.jsx("p",{className:"text-gray-900 font-medium p-3 bg-gray-50 rounded-lg",children:R?.department||"Not specified"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(k,{className:"w-4 h-4 text-gray-500"}),"Address"]}),q?e.jsx("textarea",{value:L.address,onChange:e=>M({...L,address:e.target.value}),placeholder:"Enter your address",className:"w-full min-h-[80px] p-3 border border-gray-200 rounded-lg focus:border-gray-500 focus:ring-1 focus:ring-gray-500"}):e.jsx("p",{className:"text-gray-900 font-medium p-3 bg-gray-50 rounded-lg min-h-[80px]",children:R?.address||"Not provided"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(f,{className:"w-4 h-4 text-gray-500"}),"Bio"]}),q?e.jsx("textarea",{value:L.bio,onChange:e=>M({...L,bio:e.target.value}),placeholder:"Tell us about yourself",className:"w-full min-h-[100px] p-3 border border-gray-200 rounded-lg focus:border-gray-500 focus:ring-1 focus:ring-gray-500"}):e.jsx("p",{className:"text-gray-900 font-medium p-3 bg-gray-50 rounded-lg min-h-[100px]",children:R?.bio||"No bio provided"})]})]})]})}),e.jsx(h,{value:"security",children:e.jsxs(a,{className:"shadow-lg border-0",children:[e.jsx(r,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-gray-600"}),"Security Settings"]})}),e.jsxs(l,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Password"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Last changed 30 days ago"})]})]}),e.jsx(c,{variant:"outline",children:"Change Password"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security"})]})]}),e.jsx(d,{className:"bg-gray-100 text-gray-700 border-gray-300",children:"Not Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Login Sessions"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage your active sessions"})]})]}),e.jsx(c,{variant:"outline",children:"View Sessions"})]})]}),e.jsx("div",{className:"pt-6 border-t border-gray-200",children:e.jsxs(c,{onClick:U,variant:"outline",className:"text-red-600 border-red-300 hover:bg-red-50 hover:border-red-400 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"Sign Out"]})})]})]})}),e.jsx(h,{value:"preferences",children:e.jsxs(a,{className:"shadow-lg border-0",children:[e.jsx(r,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-gray-600"}),"Notification Preferences"]})}),e.jsx(l,{className:"p-6 space-y-6",children:e.jsx("div",{className:"space-y-4",children:[{label:"Purchase Request Notifications",description:"Get notified about new purchase requests",enabled:!0},{label:"Approval Reminders",description:"Reminders for pending approvals",enabled:!0},{label:"Project Updates",description:"Updates about project progress",enabled:!1},{label:"System Maintenance",description:"Notifications about system maintenance",enabled:!0},{label:"Weekly Reports",description:"Weekly summary reports",enabled:!1}].map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.label}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",defaultChecked:s.enabled,className:"h-4 w-4 text-[#243d8a] border-gray-300 rounded focus:ring-[#243d8a]","aria-label":s.label,title:s.label})})]},a))})})]})}),e.jsx(h,{value:"activity",children:e.jsxs(a,{className:"shadow-lg border-0",children:[e.jsx(r,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-gray-600"}),"Recent Activity"]})}),e.jsx(l,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:[{action:"Approved purchase request PR-2024-001",time:"2 hours ago",type:"approval"},{action:"Updated profile information",time:"1 day ago",type:"profile"},{action:"Reviewed vendor quotation VQ-2024-003",time:"2 days ago",type:"review"},{action:"Completed task: Site Safety Inspection",time:"3 days ago",type:"task"},{action:"Signed in from new device",time:"1 week ago",type:"security"}].map((s,a)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("div",{className:"p-2 bg-[#243d8a]/10 rounded-lg",children:e.jsx(E,{className:"w-4 h-4 text-[#243d8a]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 font-medium",children:s.action}),e.jsx("p",{className:"text-sm text-gray-500",children:s.time})]})]},a))})})]})})]})]});var T};export{R as default};
